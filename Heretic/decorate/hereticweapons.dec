// ****************
// ***** AMMO *****
// ****************

ACTOR GoldWandAmmoNew : GoldWandAmmo { +DONTGIB Inventory.Amount 10 Inventory.PickupMessage "Wand crystal [+10 Crystal Wand]" }
ACTOR GoldWandHeftyNew : GoldWandHefty { +DONTGIB Inventory.Amount 50 Inventory.PickupMessage "Crystal geode [+50 Crystal Wand]" }
ACTOR CrossbowAmmoNew : CrossbowAmmo { +DONTGIB Inventory.Amount 4 Inventory.PickupMessage "Ethereal arrows [+4] (Super) Ethereal Crossbow" }
ACTOR CrossbowHeftyNew : CrossbowHefty { +DONTGIB Inventory.Amount 20 Inventory.PickupMessage "Quiver of ethereal arrows [+20] (Super) Ethereal Crossbow" }
ACTOR BlasterAmmoNew : BlasterAmmo { +DONTGIB Inventory.Amount 10 Inventory.PickupMessage "Claw orb [+10 Dragon Claw]"  }
ACTOR BlasterHeftyNew : BlasterHefty { +DONTGIB Inventory.Amount 50 Inventory.PickupMessage "Energy orb [+50 Dragon Claw]" }
ACTOR PhoenixRodAmmoNew : PhoenixRodAmmo { +DONTGIB Inventory.Amount 1 Inventory.PickupMessage "Flame orb [+1 Phoenix Rod]" }
ACTOR PhoenixRodHeftyNew : PhoenixRodHefty { +DONTGIB Inventory.Amount 10 Inventory.PickupMessage "Inferno Orb [+10 Phoenix Rod]" }
ACTOR MaceAmmoNew : MaceAmmo { +DONTGIB Inventory.Amount 20 Inventory.PickupMessage "Mace Spheres [+20 Firemace]" }
ACTOR MaceHeftyNew : MaceHefty { +DONTGIB Inventory.Amount 100 Inventory.PickupMessage "Pile of mace spheres [+100 Firemace]" }
ACTOR SkullRodAmmoNew : SkullRodAmmo { +DONTGIB Inventory.Amount 20 Inventory.PickupMessage "Lesser Runes [+20 Hellstaff]" }
ACTOR SkullRodHeftyNew : SkullRodHefty { +DONTGIB Inventory.Amount 100 Inventory.PickupMessage "Greater Runes [+100 Hellstaff]" }

// **************************
// ***** AMMO REPLACERS *****
// **************************

ACTOR GoldWandAmmoSpawner : GoldWandAmmo replaces GoldWandAmmo
{
	States
	{
		Spawn:
			TNT1 A 0 NoDelay
			{
				if (CountInv("GoldWandNew",AAPTR_PLAYER1) <= 0)
				{
					if (random(1,2048) <= 1)
					{
						A_SpawnItemEx("GoldWandNew");
						A_FadeOut(1,1);
					}
				}
				else
				{
					if (CountInv("DualGoldWandNew",AAPTR_PLAYER1) <= 0)
					{
						if (random(1,4096) <= 1)
						{
							A_SpawnItemEx("DualGoldWandNew");
							A_FadeOut(1,1);
						}
					}
				}

				if (Random(1,1) <= 1)		{ A_SpawnItemEx("GoldWandAmmoNew",0,0,0,0,0,0); }
				if (Random(1,5) <= 1)		{ A_SpawnItemEx("GoldWandAmmoNew",random(-8,8),random(-8,8),0,random(-8,8),random(-8,8),0); }
				if (Random(1,25) <= 1)	{ A_SpawnItemEx("GoldWandAmmoNew",random(-8,8),random(-8,8),0,random(-8,8),random(-8,8),0); }
				if (Random(1,50) <= 1)	{ A_SpawnItemEx("DiarisArrow",random(-4,4),random(-4,4),0,random(-4,4),random(-4,4),0); }
				if (Random(1,40) <= 1)	{ A_SpawnItemEx("DoomSpellMana",random(-4,4),random(-4,4),0,random(-4,4),random(-4,4),0); }
				if (Random(1,100) <= 1)	{ A_SpawnItemEx("RandomMagicSpawner",random(-4,4),random(-4,4),0,random(-4,4),random(-4,4),0); }
			}
			TNT1 A 0
			Stop
	}
}

ACTOR GoldWandHeftySpawner : GoldWandHefty replaces GoldWandHefty
{
	States
	{
		Spawn:
			TNT1 A 0 NoDelay
			{
				if (CountInv("GoldWandNew",AAPTR_PLAYER1) <= 0)
				{
					if (random(1,2048) <= 1)
					{
						A_SpawnItemEx("GoldWandNew");
						A_FadeOut(1,1);
					}
				}
				else
				{
					if (CountInv("DualGoldWandNew",AAPTR_PLAYER1) <= 0)
					{
						if (random(1,4096) <= 1)
						{
							A_SpawnItemEx("DualGoldWandNew");
							A_FadeOut(1,1);
						}
					}
				}

				if (Random(1,1) <= 1)		{ A_SpawnItemEx("GoldWandHeftyNew",0,0,0,0,0,0); }
				if (Random(1,5) <= 1)		{ A_SpawnItemEx("GoldWandHeftyNew",random(-8,8),random(-8,8),0,random(-8,8),random(-8,8),0); }
				if (Random(1,25) <= 1)	{ A_SpawnItemEx("GoldWandHeftyNew",random(-8,8),random(-8,8),0,random(-8,8),random(-8,8),0); }
				if (Random(1,50) <= 1)	{ A_SpawnItemEx("DiarisArrowQuiver",random(-4,4),random(-4,4),0,random(-4,4),random(-4,4),0); }
				if (Random(1,40) <= 1)	{ A_SpawnItemEx("DoomSpellMana2",random(-4,4),random(-4,4),0,random(-4,4),random(-4,4),0); }
				if (Random(1,100) <= 1)	{ A_SpawnItemEx("RandomMagicSpawner",random(-4,4),random(-4,4),0,random(-4,4),random(-4,4),0); }
			}
			TNT1 A 0
			Stop
	}
}

ACTOR CrossbowAmmoSpawner : CrossbowAmmo replaces CrossbowAmmo
{
	States
	{
		Spawn:
			TNT1 A 0 NoDelay
			{
				if (CountInv("CrossbowNew",AAPTR_PLAYER1) <= 0)
				{
					if (random(1,2048) <= 1)
					{
						A_SpawnItemEx("CrossbowNew");
						A_FadeOut(1,1);
					}
				}
				else
				{
					if (CountInv("DualCrossbowNew",AAPTR_PLAYER1) <= 0)
					{
						if (random(1,4096) <= 1)
						{
							A_SpawnItemEx("DualCrossbowNew");
							A_FadeOut(1,1);
						}
					}
					else
					{
						if (CountInv("SuperCrossbowNew",AAPTR_PLAYER1) <= 0)
						{
							if (random(1,2048) <= 1)
							{
								A_SpawnItemEx("SuperCrossbowNew");
								A_FadeOut(1,1);
							}
						}
						else
						{
							if (CountInv("DualSuperCrossbowNew",AAPTR_PLAYER1) <= 0)
							{
								if (random(1,4096) <= 1)
								{
									A_SpawnItemEx("DualSuperCrossbowNew");
									A_FadeOut(1,1);
								}
							}
						}
					}
				}

				if (Random(1,1) <= 1)		{ A_SpawnItemEx("CrossbowAmmoNew",0,0,0,0,0,0); }
				if (Random(1,5) <= 1)		{ A_SpawnItemEx("CrossbowAmmoNew",random(-8,8),random(-8,8),0,random(-8,8),random(-8,8),0); }
				if (Random(1,25) <= 1)	{ A_SpawnItemEx("CrossbowAmmoNew",random(-8,8),random(-8,8),0,random(-8,8),random(-8,8),0); }
				if (Random(1,25) <= 1)	{ A_SpawnItemEx("DiarisArrow",random(-4,4),random(-4,4),0,random(-4,4),random(-4,4),0); }
				if (Random(1,40) <= 1)	{ A_SpawnItemEx("DoomSpellMana",random(-4,4),random(-4,4),0,random(-4,4),random(-4,4),0); }
				if (Random(1,100) <= 1)	{ A_SpawnItemEx("RandomMagicSpawner",random(-4,4),random(-4,4),0,random(-4,4),random(-4,4),0); }
			}
			TNT1 A 0
			Stop
	}
}

ACTOR CrossbowHeftySpawner : CrossbowHefty replaces CrossbowHefty
{
	States
	{
		Spawn:
			TNT1 A 0 NoDelay
			{
				if (CountInv("CrossbowNew",AAPTR_PLAYER1) <= 0)
				{
					if (random(1,2048) <= 1)
					{
						A_SpawnItemEx("CrossbowNew");
						A_FadeOut(1,1);
					}
				}
				else
				{
					if (CountInv("DualCrossbowNew",AAPTR_PLAYER1) <= 0)
					{
						if (random(1,4096) <= 1)
						{
							A_SpawnItemEx("DualCrossbowNew");
							A_FadeOut(1,1);
						}
					}
					else
					{
						if (CountInv("SuperCrossbowNew",AAPTR_PLAYER1) <= 0)
						{
							if (random(1,2048) <= 1)
							{
								A_SpawnItemEx("SuperCrossbowNew");
								A_FadeOut(1,1);
							}
						}
						else
						{
							if (CountInv("DualSuperCrossbowNew",AAPTR_PLAYER1) <= 0)
							{
								if (random(1,4096) <= 1)
								{
									A_SpawnItemEx("DualSuperCrossbowNew");
									A_FadeOut(1,1);
								}
							}
						}
					}
				}

				if (Random(1,1) <= 1)		{ A_SpawnItemEx("CrossbowHeftyNew",0,0,0,0,0,0); }
				if (Random(1,5) <= 1)		{ A_SpawnItemEx("CrossbowHeftyNew",random(-8,8),random(-8,8),0,random(-8,8),random(-8,8),0); }
				if (Random(1,25) <= 1)	{ A_SpawnItemEx("CrossbowHeftyNew",random(-8,8),random(-8,8),0,random(-8,8),random(-8,8),0); }
				if (Random(1,25) <= 1)	{ A_SpawnItemEx("DiarisArrowQuiver",random(-4,4),random(-4,4),0,random(-4,4),random(-4,4),0); }
				if (Random(1,40) <= 1)	{ A_SpawnItemEx("DoomSpellMana2",random(-4,4),random(-4,4),0,random(-4,4),random(-4,4),0); }
				if (Random(1,100) <= 1)	{ A_SpawnItemEx("RandomMagicSpawner",random(-4,4),random(-4,4),0,random(-4,4),random(-4,4),0); }
			}
			TNT1 A 0
			Stop
	}
}

ACTOR BlasterAmmoSpawner : BlasterAmmo replaces BlasterAmmo
{
	States
	{
		Spawn:
			TNT1 A 0 NoDelay
			{
				if (CountInv("DragonClawNew",AAPTR_PLAYER1) <= 0)
				{
					if (random(1,2048) <= 1)
					{
						A_SpawnItemEx("DragonClawNew");
						A_FadeOut(1,1);
					}
				}
				else
				{
					if (CountInv("DualDragonClawNew",AAPTR_PLAYER1) <= 0)
					{
						if (random(1,4096) <= 1)
						{
							A_SpawnItemEx("DualDragonClawNew");
							A_FadeOut(1,1);
						}
					}
					else
					{
						if (CountInv("DSparilStaff",AAPTR_PLAYER1) > 0)
						{
							if (random(1,8192) <= 1)
							{
								A_SpawnItemEx("DualDSparilStaff");
								A_FadeOut(1,1);
							}
						}
					}
				}

				if (Random(1,1) <= 1)		{ A_SpawnItemEx("BlasterAmmoNew",0,0,0,0,0,0); }
				if (Random(1,5) <=  1)	{ A_SpawnItemEx("BlasterAmmoNew",random(-8,8),random(-8,8),0,random(-8,8),random(-8,8),0); }
				if (Random(1,25) <= 1)	{ A_SpawnItemEx("BlasterAmmoNew",random(-8,8),random(-8,8),0,random(-8,8),random(-8,8),0); }
				if (Random(1,50) <= 1)	{ A_SpawnItemEx("DiarisArrow",random(-4,4),random(-4,4),0,random(-4,4),random(-4,4),0); }
				if (Random(1,40) <= 1)	{ A_SpawnItemEx("DoomSpellMana",random(-4,4),random(-4,4),0,random(-4,4),random(-4,4),0); }
				if (Random(1,100) <= 1)	{ A_SpawnItemEx("RandomMagicSpawner",random(-4,4),random(-4,4),0,random(-4,4),random(-4,4),0); }
			}
			TNT1 A 0
			Stop
	}
}

ACTOR BlasterHeftySpawner : BlasterHefty replaces BlasterHefty
{
	States
	{
		Spawn:
			TNT1 A 0 NoDelay
			{
				if (CountInv("DragonClawNew",AAPTR_PLAYER1) <= 0)
				{
					if (random(1,2048) <= 1)
					{
						A_SpawnItemEx("DragonClawNew");
						A_FadeOut(1,1);
					}
				}
				else
				{
					if (CountInv("DualDragonClawNew",AAPTR_PLAYER1) <= 0)
					{
						if (random(1,4096) <= 1)
						{
							A_SpawnItemEx("DualDragonClawNew");
							A_FadeOut(1,1);
						}
					}
					else
					{
						if (CountInv("DSparilStaff",AAPTR_PLAYER1) > 0)
						{
							if (random(1,8192) <= 1)
							{
								A_SpawnItemEx("DualDSparilStaff");
								A_FadeOut(1,1);
							}
						}
					}
				}

				if (Random(1,1) <= 1)		{ A_SpawnItemEx("BlasterHeftyNew",0,0,0,0,0,0); }
				if (Random(1,5) <= 1)		{ A_SpawnItemEx("BlasterHeftyNew",random(-8,8),random(-8,8),0,random(-8,8),random(-8,8),0); }
				if (Random(1,25) <= 1)	{ A_SpawnItemEx("BlasterHeftyNew",random(-8,8),random(-8,8),0,random(-8,8),random(-8,8),0); }
				if (Random(1,50) <= 1)	{ A_SpawnItemEx("DiarisArrowQuiver",random(-4,4),random(-4,4),0,random(-4,4),random(-4,4),0); }
				if (Random(1,40) <= 1)	{ A_SpawnItemEx("DoomSpellMana2",random(-4,4),random(-4,4),0,random(-4,4),random(-4,4),0); }
				if (Random(1,50) <= 1)	{ A_SpawnItemEx("RandomMagicSpawner",random(-4,4),random(-4,4),0,random(-4,4),random(-4,4),0); }
			}
			TNT1 A 0
			Stop
	}
}

ACTOR PhoenixRodAmmoSpawner : PhoenixRodAmmo replaces PhoenixRodAmmo
{
	States
	{
		Spawn:
			TNT1 A 0 NoDelay
			{
				if (CountInv("PhoenixRodNew",AAPTR_PLAYER1) <= 0)
				{
					if (random(1,2048) <= 1)
					{
						A_SpawnItemEx("PhoenixRodNew");
						A_FadeOut(1,1);
					}
				}
				else
				{
					if (CountInv("DualPhoenixRodNew",AAPTR_PLAYER1) <= 0)
					{
						if (random(1,4096) <= 1)
						{
							A_SpawnItemEx("DualPhoenixRodNew");
							A_FadeOut(1,1);
						}
					}
				}

				if (Random(1,1) <= 1)		{ A_SpawnItemEx("PhoenixRodAmmoNew",0,0,0,0,0,0); }
				if (Random(1,5) <= 1)		{ A_SpawnItemEx("PhoenixRodAmmoNew",random(-8,8),random(-8,8),0,random(-8,8),random(-8,8),0); }
				if (Random(1,25) <= 1)	{ A_SpawnItemEx("PhoenixRodAmmoNew",random(-8,8),random(-8,8),0,random(-8,8),random(-8,8),0); }
				if (Random(1,25) <= 1)	{ A_SpawnItemEx("DiarisArrow",random(-4,4),random(-4,4),0,random(-4,4),random(-4,4),0); }
				if (Random(1,40) <= 1)	{ A_SpawnItemEx("DoomSpellMana",random(-4,4),random(-4,4),0,random(-4,4),random(-4,4),0); }
				if (Random(1,100) <= 1)	{ A_SpawnItemEx("RandomMagicSpawner",random(-4,4),random(-4,4),0,random(-4,4),random(-4,4),0); }
			}
			TNT1 A 0
			Stop
	}
}

ACTOR PhoenixRodHeftySpawner : PhoenixRodHefty replaces PhoenixRodHefty
{
	States
	{
		Spawn:
			TNT1 A 0 NoDelay
			{
				if (CountInv("PhoenixRodNew",AAPTR_PLAYER1) <= 0)
				{
					if (random(1,2048) <= 1)
					{
						A_SpawnItemEx("PhoenixRodNew");
						A_FadeOut(1,1);
					}
				}
				else
				{
					if (CountInv("DualPhoenixRodNew",AAPTR_PLAYER1) <= 0)
					{
						if (random(1,4096) <= 1)
						{
							A_SpawnItemEx("DualPhoenixRodNew");
							A_FadeOut(1,1);
						}
					}
				}

				if (Random(1,1) <= 1)		{ A_SpawnItemEx("PhoenixRodHeftyNew",0,0,0,0,0,0); }
				if (Random(1,5) <= 1)		{ A_SpawnItemEx("PhoenixRodHeftyNew",random(-8,8),random(-8,8),0,random(-8,8),random(-8,8),0); }
				if (Random(1,25) <= 1)	{ A_SpawnItemEx("PhoenixRodHeftyNew",random(-8,8),random(-8,8),0,random(-8,8),random(-8,8),0); }
				if (Random(1,25) <= 1)	{ A_SpawnItemEx("DiarisArrowQuiver",random(-4,4),random(-4,4),0,random(-4,4),random(-4,4),0); }
				if (Random(1,40) <= 1)	{ A_SpawnItemEx("DoomSpellMana2",random(-4,4),random(-4,4),0,random(-4,4),random(-4,4),0); }
				if (Random(1,50) <= 1)	{ A_SpawnItemEx("RandomMagicSpawner",random(-4,4),random(-4,4),0,random(-4,4),random(-4,4),0); }
			}
			TNT1 A 0
			Stop
	}
}

ACTOR MaceAmmoSpawner : MaceAmmo replaces MaceAmmo
{
	States
	{
		Spawn:
			TNT1 A 0 NoDelay
			{
				if (CountInv("FiremaceNew",AAPTR_PLAYER1) <= 0)
				{
					if (random(1,2048) <= 1)
					{
						A_SpawnItemEx("FiremaceNew");
						A_FadeOut(1,1);
					}
				}
				else
				{
					if (CountInv("DualFiremaceNew",AAPTR_PLAYER1) <= 0)
					{
						if (random(1,4096) <= 1)
						{
							A_SpawnItemEx("DualFiremaceNew");
							A_FadeOut(1,1);
						}
					}
				}

				if (Random(1,1) <= 1)		{ A_SpawnItemEx("MaceAmmoNew",0,0,0,0,0,0); }
				if (Random(1,5) <= 1)		{ A_SpawnItemEx("MaceAmmoNew",random(-8,8),random(-8,8),0,random(-8,8),random(-8,8),0); }
				if (Random(1,25) <= 1)	{ A_SpawnItemEx("MaceAmmoNew",random(-8,8),random(-8,8),0,random(-8,8),random(-8,8),0); }
				if (Random(1,50) <= 1)	{ A_SpawnItemEx("DiarisArrow",random(-4,4),random(-4,4),0,random(-4,4),random(-4,4),0); }
				if (Random(1,40) <= 1)	{ A_SpawnItemEx("DoomSpellMana",random(-4,4),random(-4,4),0,random(-4,4),random(-4,4),0); }
				if (Random(1,100) <= 1)	{ A_SpawnItemEx("RandomMagicSpawner",random(-4,4),random(-4,4),0,random(-4,4),random(-4,4),0); }
			}
			TNT1 A 0
			Stop
	}
}

ACTOR MaceHeftySpawner : MaceHefty replaces MaceHefty
{
	States
	{
		Spawn:
			TNT1 A 0 NoDelay
			{
				if (CountInv("FiremaceNew",AAPTR_PLAYER1) <= 0)
				{
					if (random(1,2048) <= 1)
					{
						A_SpawnItemEx("FiremaceNew");
						A_FadeOut(1,1);
					}
				}
				else
				{
					if (CountInv("DualFiremaceNew",AAPTR_PLAYER1) <= 0)
					{
						if (random(1,4096) <= 1)
						{
							A_SpawnItemEx("DualFiremaceNew");
							A_FadeOut(1,1);
						}
					}
				}

				if (Random(1,1) <= 1)		{ A_SpawnItemEx("MaceHeftyNew",0,0,0,0,0,0); }
				if (Random(1,5) <= 1)		{ A_SpawnItemEx("MaceHeftyNew",random(-8,8),random(-8,8),0,random(-8,8),random(-8,8),0); }
				if (Random(1,25) <= 1)	{ A_SpawnItemEx("MaceHeftyNew",random(-8,8),random(-8,8),0,random(-8,8),random(-8,8),0); }
				if (Random(1,50) <= 1)	{ A_SpawnItemEx("DiarisArrowQuiver",random(-4,4),random(-4,4),0,random(-4,4),random(-4,4),0); }
				if (Random(1,40) <= 1)	{ A_SpawnItemEx("DoomSpellMana2",random(-4,4),random(-4,4),0,random(-4,4),random(-4,4),0); }
				if (Random(1,100) <= 1)	{ A_SpawnItemEx("RandomMagicSpawner",random(-4,4),random(-4,4),0,random(-4,4),random(-4,4),0); }
			}
			TNT1 A 0
			Stop
	}
}

ACTOR SkullRodAmmoSpawner : SkullRodAmmo replaces SkullRodAmmo
{
	States
	{
		Spawn:
			TNT1 A 0 NoDelay
			{
				if (CountInv("HellStaffNew",AAPTR_PLAYER1) <= 0)
				{
					if (random(1,2048) <= 1)
					{
						A_SpawnItemEx("HellStaffNew");
						A_FadeOut(1,1);
					}
				}
				else
				{
					if (CountInv("DualHellStaffNew",AAPTR_PLAYER1) <= 0)
					{
						if (random(1,4096) <= 1)
						{
							A_SpawnItemEx("DualHellStaffNew");
							A_FadeOut(1,1);
						}
					}
				}
				if (Random(1,1) <= 1)		{ A_SpawnItemEx("SkullRodAmmoNew",0,0,0,0,0,0); }
				if (Random(1,5) <= 1)		{ A_SpawnItemEx("SkullRodAmmoNew",random(-8,8),random(-8,8),0,random(-8,8),random(-8,8),0); }
				if (Random(1,25) <= 1)	{ A_SpawnItemEx("SkullRodAmmoNew",random(-8,8),random(-8,8),0,random(-8,8),random(-8,8),0); }
				if (Random(1,50) <= 1)	{ A_SpawnItemEx("DiarisArrow",random(-4,4),random(-4,4),0,random(-4,4),random(-4,4),0); }
				if (Random(1,40) <= 1)	{ A_SpawnItemEx("DoomSpellMana",random(-4,4),random(-4,4),0,random(-4,4),random(-4,4),0); }
				if (Random(1,100) <= 1)	{ A_SpawnItemEx("RandomMagicSpawner",random(-4,4),random(-4,4),0,random(-4,4),random(-4,4),0); }
			}
			TNT1 A 0
			Stop
	}
}

ACTOR SkullRodHeftySpawner : SkullRodHefty replaces SkullRodHefty
{
	States
	{
		Spawn:
			TNT1 A 0 NoDelay
			{
				if (Random(1,1) <= 1)		{ A_SpawnItemEx("SkullRodHeftyNew",0,0,0,0,0,0); }
				if (Random(1,5) <= 1)		{ A_SpawnItemEx("SkullRodHeftyNew",random(-8,8),random(-8,8),0,random(-8,8),random(-8,8),0); }
				if (Random(1,25) <= 1)	{ A_SpawnItemEx("SkullRodHeftyNew",random(-8,8),random(-8,8),0,random(-8,8),random(-8,8),0); }
				if (Random(1,50) <= 1)	{ A_SpawnItemEx("DiarisArrowQuiver",random(-4,4),random(-4,4),0,random(-4,4),random(-4,4),0); }
				if (Random(1,40) <= 1)	{ A_SpawnItemEx("DoomSpellMana2",random(-4,4),random(-4,4),0,random(-4,4),random(-4,4),0); }
				if (Random(1,50) <= 1)	{ A_SpawnItemEx("RandomMagicSpawner",random(-4,4),random(-4,4),0,random(-4,4),random(-4,4),0); }
			}
			TNT1 A 0
			Stop
	}
}

// *******************
// ***** WEAPONS *****
// *******************
ACTOR GoldWandFX1New : AetheriusProjectileZSC 
{
	Radius 10
	Height 6
	Speed 22
	Damage (finaldamagedealt) // 2
	DamageType "Magic" 
	Projectile
	RenderStyle Add
	DeathSound "weapons/wandhit"
	Obituary "$OB_MPPGOLDWAND"
	States
	{
		Spawn:
			FX01 A 0 NoDelay 
			{ 
				A_GetPlayerAttackDamage(41,0); 
				A_ScaleVelocity(1.00+((CallACS("MiscVarCheckDECORATE",10053)*0.10)+(CallACS("MiscVarCheckDECORATE",10054)*0.25)));
			}
		Idle:
			FX01 AB 6 Bright
			Loop
		Death:
			FX01 EFGH 3 Bright
			Stop
	}
}
ACTOR GoldWandFX2New : GoldWandFX1New 
{
	Speed 18
	Damage (finaldamagedealt) // 1
	DamageType "Magic" 
	DeathSound ""
	States
	{
		Spawn:
			FX01 C 0 NoDelay 
			{
				A_GetPlayerAttackDamage(42,0); 
				A_ScaleVelocity(1.00+((CallACS("MiscVarCheckDECORATE",10053)*0.10)+(CallACS("MiscVarCheckDECORATE",10054)*0.25)));
			}
		Idle:
			FX01 CD 6 Bright
			Loop
	}
}
ACTOR GoldWandPuff1New : AetheriusProjectileZSC 
{ 
	DamageType "Magic" 
	+NOBLOCKMAP
	+NOGRAVITY
	+PUFFONACTORS
	RenderStyle Add
	States
	{
		Spawn:
			PUF2 ABCDE 3 Bright
			Stop
	}
}
ACTOR GoldWandPuff2New : AetheriusProjectileZSC 
{ 
	DamageType "Magic" 
	+NOBLOCKMAP
	+NOGRAVITY
	+PUFFONACTORS
	States
	{
		Spawn:
			FX01 EFGH 3 Bright
			Stop
	}
}

ACTOR GoldWandNew : HereticWeaponBase replaces GoldWand
{
	+BLOODSPLATTER
	Weapon.Kickback 13
	Weapon.SelectionOrder 2000
	Weapon.AmmoGive 25
	Weapon.AmmoType1 "GoldWandAmmo"
	Weapon.AmmoType2 "GoldWandAmmo"
	Weapon.AmmoUse1 1  
	Weapon.AmmoUse2 1  
	Weapon.YAdjust 0
	Inventory.PickupMessage "Elven Wand \cx[Slot 2]\c-"
	Obituary "$OB_MPGOLDWAND"
	Tag "Elven Wand"

	States
	{
		Spawn:
			GWAN A 0 NoDelay
			{
				if (CountInv("GoldWandNew",AAPTR_PLAYER1) > 0)
				{
					A_SpawnItemEx("DualGoldWandNew");
					A_FadeOut(1,1);
				}
			}
			GWAN A 1
			Loop
		Despawn:
			GWAN A 0
			Stop
		Ready:
			GWND A 1 A_WeaponReady
			Loop
		Deselect:
			GWND A 1 
			{
				A_DVDSLower(CallACS("MiscVarCheckDECORATE",10053)*3);
				A_DVDSLower(CallACS("MiscVarCheckDECORATE",10054)*7.5);
				A_DVDSLower(CallACS("MiscVarCheckDECORATE",10035)*2);
				A_DVDSLower(CallACS("MiscVarCheckDECORATE",10036)*5);
				A_DVDSLower(18);
			}
			Loop
		Select:
			GWND A 1 
			{
				A_DVDSRaise(CallACS("MiscVarCheckDECORATE",10053)*3);
				A_DVDSRaise(CallACS("MiscVarCheckDECORATE",10054)*7.5);
				A_DVDSRaise(CallACS("MiscVarCheckDECORATE",10035)*2);
				A_DVDSRaise(CallACS("MiscVarCheckDECORATE",10036)*5);
				A_DVDSRaise(18);
			}
			Loop
		Fire:
			GWND B 3 
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 2) { A_SetTics(2); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 4) { A_SetTics(1); }
			}
			GWND C 5
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 2) { A_SetTics(4); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 4) { A_SetTics(3); }
				CallACS("StartTensionCountDown");
			
				A_SpreadAuraFireBullets(A_GetHitScanXSpread(13),A_GetHitScanYSpread(13),1, A_GetPlayerAttackDamage(29,1), "GoldWandPuff1New",FBF_NORANDOM|FBF_NORANDOMPUFFZ,FBF_USEAMMO|FBF_NORANDOM|FBF_NORANDOMPUFFZ,16384,"",0,0,1,"GoldWandAmmo");
				A_PlaySound("weapons/wandhit",1);
			}
			GWND D 3
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 2) { A_SetTics(2); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 4) { A_SetTics(1); }
			}
			GWND D 0 A_ReFire
			Goto Ready
		AltFire:
			TNT1 A 0
			{
				if (A_UseManaAttack(CountInv("AltFireManaCost",AAPTR_PLAYER1),2,0,1) == 0) { return state("Ready"); }
				return state("");
			}
			GWND B 3 
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 2) { A_SetTics(2); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 4) { A_SetTics(1); }
			}
			GWND C 4 // A_FireGoldWandPL2
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 3) { A_SetTics(3); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 5) { A_SetTics(2); }
				CallACS("StartTensionCountDown");
			
				A_PlaySound("weapons/wandhit",1);
				A_SetAngle(angle-5.625);
				A_SpreadAuraFireProjectile("GoldWandFX2New",0,0,"",0,0,0,0);
				A_SpreadAuraFireBullets(0,0,1,A_GetPlayerAttackDamage(30,1),"GoldWandPuff2New",FBF_NORANDOM|FBF_NORANDOMPUFFZ,FBF_NORANDOM|FBF_NORANDOMPUFFZ,16384,"",0,0,0,"");
				A_SetAngle(angle+2.8125);
				A_SpreadAuraFireBullets(0,0,1,A_GetPlayerAttackDamage(30,1),"GoldWandPuff2New",FBF_NORANDOM|FBF_NORANDOMPUFFZ,FBF_NORANDOM|FBF_NORANDOMPUFFZ,16384,"",0,0,0,"");
				A_SetAngle(angle+2.8125);
				A_SpreadAuraFireBullets(0,0,1,A_GetPlayerAttackDamage(30,1),"GoldWandPuff2New",FBF_NORANDOM|FBF_NORANDOMPUFFZ,FBF_NORANDOM|FBF_NORANDOMPUFFZ,16384,"",0,0,0,"");
				A_SetAngle(angle+2.8125);
				A_SpreadAuraFireBullets(0,0,1,A_GetPlayerAttackDamage(30,1),"GoldWandPuff2New",FBF_NORANDOM|FBF_NORANDOMPUFFZ,FBF_NORANDOM|FBF_NORANDOMPUFFZ,16384,"",0,0,0,"");
				A_SetAngle(angle+2.8125);
				A_SpreadAuraFireBullets(0,0,1,A_GetPlayerAttackDamage(30,1),"GoldWandPuff2New",FBF_NORANDOM|FBF_NORANDOMPUFFZ,FBF_NORANDOM|FBF_NORANDOMPUFFZ,16384,"",0,0,0,"");
				A_SpreadAuraFireProjectile("GoldWandFX2New",0,1,"GoldWandAmmo",0,0,0,0);
				A_SetAngle(angle-5.625);
			}
			GWND D 3
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 2) { A_SetTics(2); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 4) { A_SetTics(1); }
			}
			GWND D 0 A_ReFire
			Goto Ready
	}
}

ACTOR DualGoldWandNew : GoldWandNew
{
	+BLOODSPLATTER
	Weapon.Kickback 13
	Weapon.SelectionOrder 2000
	Weapon.AmmoGive 25
	Weapon.AmmoType1 "GoldWandAmmo"
	Weapon.AmmoType2 "GoldWandAmmo"
	Weapon.AmmoUse1 1  
	Weapon.AmmoUse2 1  
	Weapon.YAdjust 0
	Inventory.PickupMessage "Elven Wand \cx[Slot 2] (can now dual wield)\c-"
	Obituary "$OB_MPGOLDWAND"
	Tag "Dual Elven Wands"
	States
	{
		Spawn:
			GWAN A -1
			Stop
		Ready:
			GWN2 A 1 A_WeaponReady
			Loop
		Deselect:
			GWN2 A 1
			{
				A_DVDSLower(CallACS("MiscVarCheckDECORATE",10053)*3);
				A_DVDSLower(CallACS("MiscVarCheckDECORATE",10054)*7.5);
				A_DVDSLower(CallACS("MiscVarCheckDECORATE",10035)*2);
				A_DVDSLower(CallACS("MiscVarCheckDECORATE",10036)*5);
				A_DVDSLower(18);
			}
			Loop
		Select:
			GWN2 A 1
			{
				A_DVDSRaise(CallACS("MiscVarCheckDECORATE",10053)*3);
				A_DVDSRaise(CallACS("MiscVarCheckDECORATE",10054)*7.5);
				A_DVDSRaise(CallACS("MiscVarCheckDECORATE",10035)*2);
				A_DVDSRaise(CallACS("MiscVarCheckDECORATE",10036)*5);
				A_DVDSRaise(18);
			}
			Loop
		Fire:
			GWN2 B 3 
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 2) { A_SetTics(2); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 4) { A_SetTics(1); }
			}
			GWN2 CD 5
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 2) { A_SetTics(4); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 4) { A_SetTics(3); }
				CallACS("StartTensionCountDown");
			
				A_SpreadAuraFireBullets(A_GetHitScanXSpread(13),A_GetHitScanYSpread(13),1, A_GetPlayerAttackDamage(29,1), "GoldWandPuff1New",FBF_NORANDOM|FBF_NORANDOMPUFFZ,FBF_USEAMMO|FBF_NORANDOM|FBF_NORANDOMPUFFZ,0,"",0,0,1,"GoldWandAmmo");
				A_PlaySound("weapons/wandhit",1);
			}
			GWN2 E 3
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 2) { A_SetTics(2); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 4) { A_SetTics(1); }
			}
			GWN2 E 0 A_ReFire
			Goto Ready
		AltFire: // 10 Frames
			TNT1 A 0
			{
				if (A_UseManaAttack(CountInv("AltFireManaCost",AAPTR_PLAYER1),2,0,1) == 0) { return state("Ready"); }
				return state("");
			}
			GWN2 B 3 
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 2) { A_SetTics(2); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 4) { A_SetTics(1); }
			}
			GWN2 CD 4 // A_FireGoldWandPL2
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 3) { A_SetTics(3); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 5) { A_SetTics(2); }
				CallACS("StartTensionCountDown");
			
				A_PlaySound("weapons/wandhit",1);
				A_SetAngle(angle-5.625);
				A_SpreadAuraFireProjectile("GoldWandFX2New",0,0,"",0,0,0,0);
				A_SpreadAuraFireBullets(0,0,1,A_GetPlayerAttackDamage(30,1),"GoldWandPuff2New",FBF_NORANDOM|FBF_NORANDOMPUFFZ,FBF_NORANDOM|FBF_NORANDOMPUFFZ,16384,"",0,0,0,"");
				A_SetAngle(angle+2.8125);
				A_SpreadAuraFireBullets(0,0,1,A_GetPlayerAttackDamage(30,1),"GoldWandPuff2New",FBF_NORANDOM|FBF_NORANDOMPUFFZ,FBF_NORANDOM|FBF_NORANDOMPUFFZ,16384,"",0,0,0,"");
				A_SetAngle(angle+2.8125);
				A_SpreadAuraFireBullets(0,0,1,A_GetPlayerAttackDamage(30,1),"GoldWandPuff2New",FBF_NORANDOM|FBF_NORANDOMPUFFZ,FBF_NORANDOM|FBF_NORANDOMPUFFZ,16384,"",0,0,0,"");
				A_SetAngle(angle+2.8125);
				A_SpreadAuraFireBullets(0,0,1,A_GetPlayerAttackDamage(30,1),"GoldWandPuff2New",FBF_NORANDOM|FBF_NORANDOMPUFFZ,FBF_NORANDOM|FBF_NORANDOMPUFFZ,16384,"",0,0,0,"");
				A_SetAngle(angle+2.8125);
				A_SpreadAuraFireBullets(0,0,1,A_GetPlayerAttackDamage(30,1),"GoldWandPuff2New",FBF_NORANDOM|FBF_NORANDOMPUFFZ,FBF_NORANDOM|FBF_NORANDOMPUFFZ,16384,"",0,0,0,"");
				A_SpreadAuraFireProjectile("GoldWandFX2New",0,1,"GoldWandAmmo",0,0,0,0);
				A_SetAngle(angle-5.625);
			}
			GWN2 E 3
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 2) { A_SetTics(2); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 4) { A_SetTics(1); }
			}
			GWN2 E 0 A_ReFire
			Goto Ready
	}
}

ACTOR CrossbowFX1New : AetheriusProjectileZSC 
{
	DamageType "Magic"
	Damage (finaldamagedealt) // 10
	Speed 30
	Radius 11
	Height 8
	Projectile
	RenderStyle Add
	SeeSound "weapons/bowshoot"
	DeathSound "weapons/bowhit"
	Obituary "$OB_MPCROSSBOW"
	States
	{
		Spawn:
			FX03 B 0 NoDelay 
			{
				A_GetPlayerAttackDamage(21,0); 
				A_ScaleVelocity(1.00+((CallACS("MiscVarCheckDECORATE",10031)*0.10)+(CallACS("MiscVarCheckDECORATE",10031)*0.25)));
			}
		Idle:
			FX03 B 1 Bright
			Loop
		Death:
			FX03 HIJ 8 Bright
			Stop
	}
}
ACTOR CrossbowFX2New : CrossbowFX1New
{
	DamageType "Magic" 
	Damage (finaldamagedealt) // 6
	Speed 32
	Obituary "$OB_MPPCROSSBOW"
	States
	{
		Spawn:
			FX03 B 0 NoDelay 
			{
				A_GetPlayerAttackDamage(22,0); 
				A_ScaleVelocity(1.00+((CallACS("MiscVarCheckDECORATE",10031)*0.10)+(CallACS("MiscVarCheckDECORATE",10031)*0.25)));
			}
		Idle:
			FX03 B 1 Bright A_SpawnItemEx("CrossbowFX4", random2[BoltSpark]()*0.015625, random2[BoltSpark]()*0.015625,
																		0, 0, 0, 0, 0, SXF_ABSOLUTEPOSITION, 50)
			Loop
	}
}
ACTOR CrossbowFX3New : CrossbowFX1New
{
	DamageType "Magic" 
	Damage (finaldamagedealt) // 2
	Speed 20
	SeeSound ""
	-NOBLOCKMAP
	+WINDTHRUST
	+THRUGHOST
	States
	{
		Spawn:
			FX03 A 0 NoDelay 
			{
				A_GetPlayerAttackDamage(23,0);
				A_ScaleVelocity(1.00+((CallACS("MiscVarCheckDECORATE",10031)*0.10)+(CallACS("MiscVarCheckDECORATE",10031)*0.25)));
			}
		Idle:
			FX03 A 1 Bright
			Loop
		Death:
			FX03 CDE 8 Bright
			Stop
	}
}

ACTOR CrossbowNew : HereticWeaponBase replaces Crossbow
{
	Weapon.SelectionOrder 800
	Weapon.AmmoUse1 1
	Weapon.AmmoUse2 1
	Weapon.AmmoGive 10
	Weapon.AmmoType1 "CrossbowAmmo"
	Weapon.AmmoType2 "CrossbowAmmo"
	Weapon.YAdjust 0
	Weapon.Kickback 75
	Inventory.PickupMessage "Ethereal Crossbow \cx[Slot 3]\c-"
	Tag "$TAG_CROSSBOW"
	States
	{
		Spawn:
			WBOW A 0 NoDelay
			{
				if (random(1,10) == 25)
				{
					A_SpawnItemEx("DiarisLongBow");
					A_FadeOut(1,1);
				}
			}
			WBOW A 0
			{
				if (random(1,10) == 10)
				{
					A_SpawnItemEx("SuperCrossbowNew");
					A_FadeOut(1,1);
				}
			}
		Idle:
			WBOW A 0
			{
				if (CountInv("CrossbowNew",AAPTR_PLAYER1) > 0)
				{
					A_SpawnItemEx("DualCrossbowNew");
					A_FadeOut(1,1);
				}
			}
			WBOW A 1
			Loop
		Ready:
			CRBW AAAAAABBBBBBCCCCCC 1 A_WeaponReady
			Loop
		Deselect:
			CRBW AAAAAABBBBBBCCCCCC 1
			{
				A_DVDSLower(CallACS("MiscVarCheckDECORATE",10031)*3);
				A_DVDSLower(CallACS("MiscVarCheckDECORATE",10032)*7.5);
				A_DVDSLower(CallACS("MiscVarCheckDECORATE",10035)*2);
				A_DVDSLower(CallACS("MiscVarCheckDECORATE",10036)*5);
				A_DVDSLower(18);
			}
			Loop
		Select:
			CRBW AAAAAABBBBBBCCCCCC 1
			{
				A_DVDSRaise(CallACS("MiscVarCheckDECORATE",10031)*3);
				A_DVDSRaise(CallACS("MiscVarCheckDECORATE",10032)*7.5);
				A_DVDSRaise(CallACS("MiscVarCheckDECORATE",10035)*2);
				A_DVDSRaise(CallACS("MiscVarCheckDECORATE",10036)*5);
				A_DVDSRaise(18);
			}
			Loop
		Fire:
			CRBW D 6
			{
				if (CallACS("MiscVarCheckDECORATE",10031) >= 1) { A_SetTics(5); }
				if (CallACS("MiscVarCheckDECORATE",10031) >= 3) { A_SetTics(4); }
				if (CallACS("MiscVarCheckDECORATE",10031) >= 5) { A_SetTics(3); }

				CallACS("StartTensionCountDown");
				A_SpreadAuraFireProjectile("CrossbowFX3New", -4.5, 0,            "", -2, 3, 0, 0);
				A_SpreadAuraFireProjectile("CrossbowFX1New",    0, 1,"CrossbowAmmo",  0, 3, 0, 0);
				A_SpreadAuraFireProjectile("CrossbowFX3New",  4.5, 0,            "",  2, 3, 0, 0);
			}
			CRBW EFGH 3
			{
				if (CallACS("MiscVarCheckDECORATE",10031) >= 2) { A_SetTics(2); }
				if (CallACS("MiscVarCheckDECORATE",10031) >= 4) { A_SetTics(1); }
			}
			CRBW AB 4
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 3) { A_SetTics(3); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 5) { A_SetTics(2); }
			}
			CRBW C 5
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 1) { A_SetTics(4); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 3) { A_SetTics(3); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 5) { A_SetTics(2); }
			}
			CRBW C 0 A_ReFire
			Goto Ready
		AltFire:
			TNT1 A 0
			{
				if (A_UseManaAttack(CountInv("AltFireManaCost",AAPTR_PLAYER1),2,0,1) == 0) { return state("Ready"); }
				return state("");
			}
			CRBW D 5 // A_FireCrossbowPL2
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 1) { A_SetTics(4); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 3) { A_SetTics(3); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 5) { A_SetTics(2); }

				CallACS("StartTensionCountDown");
				A_SpreadAuraFireProjectile("CrossbowFX2New",  0.0, 1,"CrossbowAmmo",  0, 3, 0, 0);
				A_SpreadAuraFireProjectile("CrossbowFX2New", -4.5, 0,            "", -2, 3, 0, 0);
				A_SpreadAuraFireProjectile("CrossbowFX2New",  4.5, 0,            "", -2, 3, 0, 0);
				A_SpreadAuraFireProjectile("CrossbowFX3New", -9.0, 0,            "", -4, 3, 0, 0);
				A_SpreadAuraFireProjectile("CrossbowFX3New",  9.0, 0,            "",  4, 3, 0, 0);
			}
			CRBW E 3
			{
				if (CallACS("MiscVarCheckDECORATE",10031) >= 2) { A_SetTics(2); }
				if (CallACS("MiscVarCheckDECORATE",10031) >= 4) { A_SetTics(1); }
			}
			CRBW F 2
			{
				if (CallACS("MiscVarCheckDECORATE",10031) >= 2) { A_SetTics(1); }
				if (CallACS("MiscVarCheckDECORATE",10031) >= 5) { A_SetTics(0); }
			}
			CRBW G 3
			{
				if (CallACS("MiscVarCheckDECORATE",10031) >= 2) { A_SetTics(2); }
				if (CallACS("MiscVarCheckDECORATE",10031) >= 4) { A_SetTics(1); }
			}
			CRBW H 2
			{
				if (CallACS("MiscVarCheckDECORATE",10031) >= 2) { A_SetTics(1); }
				if (CallACS("MiscVarCheckDECORATE",10031) >= 5) { A_SetTics(0); }
			}
			CRBW AB 3
			{
				if (CallACS("MiscVarCheckDECORATE",10031) >= 2) { A_SetTics(2); }
				if (CallACS("MiscVarCheckDECORATE",10031) >= 4) { A_SetTics(1); }
			}
			CRBW C 4
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 3) { A_SetTics(3); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 5) { A_SetTics(2); }
			}
			CRBW C 0 A_ReFire
			Goto Ready
	}
}

ACTOR DualCrossbowNew : HereticWeaponBase
{
	Weapon.SelectionOrder 800
	Weapon.AmmoUse1 1
	Weapon.AmmoUse2 1
	Weapon.AmmoGive 10
	Weapon.AmmoType1 "CrossbowAmmo"
	Weapon.AmmoType2 "CrossbowAmmo"
	Weapon.YAdjust 0
	Weapon.Kickback 75
	Inventory.PickupMessage "Ethereal Crossbow \cx[Slot 3] (can now dual wield)\c-"
	Tag "Dual Ethereal Crossbows"

	States
	{
		Spawn:
			WBOW A -1
			Stop
		Ready:
			CRBD AAAAAABBBBBBCCCCCC 1 A_WeaponReady
			Loop
		Deselect:
			CRBD AAAAAABBBBBBCCCCCC 1
			{
				A_DVDSLower(CallACS("MiscVarCheckDECORATE",10031)*3);
				A_DVDSLower(CallACS("MiscVarCheckDECORATE",10032)*7.5);
				A_DVDSLower(CallACS("MiscVarCheckDECORATE",10035)*2);
				A_DVDSLower(CallACS("MiscVarCheckDECORATE",10036)*5);
				A_DVDSLower(18);
			}
			Loop
		Select:
			CRBD AAAAAABBBBBBCCCCCC 1
			{
				A_DVDSRaise(CallACS("MiscVarCheckDECORATE",10031)*3);
				A_DVDSRaise(CallACS("MiscVarCheckDECORATE",10032)*7.5);
				A_DVDSRaise(CallACS("MiscVarCheckDECORATE",10035)*2);
				A_DVDSRaise(CallACS("MiscVarCheckDECORATE",10036)*5);
				A_DVDSRaise(18);
			}
			Loop
		Fire:
			CRBD D 6
			{
				if (CallACS("MiscVarCheckDECORATE",10031) >= 1) { A_SetTics(5); }
				if (CallACS("MiscVarCheckDECORATE",10031) >= 3) { A_SetTics(4); }
				if (CallACS("MiscVarCheckDECORATE",10031) >= 5) { A_SetTics(3); }

				CallACS("StartTensionCountDown");
				A_SpreadAuraFireProjectile("CrossbowFX3New", -4.5-4.0, 0,            "", -2-2, 3, 0, 0);
				A_SpreadAuraFireProjectile("CrossbowFX1New",    0-4.0, 1,"CrossbowAmmo",  0-2, 3, 0, 0);
				A_SpreadAuraFireProjectile("CrossbowFX3New",  4.5-4.0, 0,            "",  2-2, 3, 0, 0);
			}
			CRBD E 6
			{
				if (CallACS("MiscVarCheckDECORATE",10031) >= 1) { A_SetTics(5); }
				if (CallACS("MiscVarCheckDECORATE",10031) >= 3) { A_SetTics(4); }
				if (CallACS("MiscVarCheckDECORATE",10031) >= 5) { A_SetTics(3); }

				CallACS("StartTensionCountDown");
				A_SpreadAuraFireProjectile("CrossbowFX3New", -4.5+4.0, 0,            "", -2+2, 3, 0, 0);
				A_SpreadAuraFireProjectile("CrossbowFX1New",    0+4.0, 1,"CrossbowAmmo",  0+2, 3, 0, 0);
				A_SpreadAuraFireProjectile("CrossbowFX3New",  4.5+4.0, 0,            "",  2+2, 3, 0, 0);
			}
			CRBD FGH 3
			{
				if (CallACS("MiscVarCheckDECORATE",10031) >= 2) { A_SetTics(2); }
				if (CallACS("MiscVarCheckDECORATE",10031) >= 4) { A_SetTics(1); }
			}
			CRBD AB 4
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 3) { A_SetTics(3); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 5) { A_SetTics(2); }
			}
			CRBD C 5
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 1) { A_SetTics(4); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 3) { A_SetTics(3); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 5) { A_SetTics(2); }
			}
			CRBD C 0 A_ReFire
			Goto Ready
		AltFire:
			TNT1 A 0
			{
				if (A_UseManaAttack(CountInv("AltFireManaCost",AAPTR_PLAYER1),2,0,1) == 0) { return state("Ready"); }
				return state("");
			}
			CRBD D 5 // A_FireCrossbowPL2
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 1) { A_SetTics(4); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 3) { A_SetTics(3); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 5) { A_SetTics(2); }

				CallACS("StartTensionCountDown");
				A_SpreadAuraFireProjectile("CrossbowFX2New",  0.0-4.0, 1,"CrossbowAmmo",  0-2, 3, 0, 0);
				A_SpreadAuraFireProjectile("CrossbowFX2New", -4.5-4.0, 0,            "", -2-2, 3, 0, 0);
				A_SpreadAuraFireProjectile("CrossbowFX2New",  4.5-4.0, 0,            "", -2-2, 3, 0, 0);
				A_SpreadAuraFireProjectile("CrossbowFX3New", -9.0-4.0, 0,            "", -4-2, 3, 0, 0);
				A_SpreadAuraFireProjectile("CrossbowFX3New",  9.0-4.0, 0,            "",  4-2, 3, 0, 0);
			}
			CRBD E 5 // A_FireCrossbowPL2
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 1) { A_SetTics(4); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 3) { A_SetTics(3); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 5) { A_SetTics(2); }

				CallACS("StartTensionCountDown");
				A_SpreadAuraFireProjectile("CrossbowFX2New",  0.0+4.0, 1,"CrossbowAmmo",  0+2, 3, 0, 0);
				A_SpreadAuraFireProjectile("CrossbowFX2New", -4.5+4.0, 0,            "", -2+2, 3, 0, 0);
				A_SpreadAuraFireProjectile("CrossbowFX2New",  4.5+4.0, 0,            "", -2+2, 3, 0, 0);
				A_SpreadAuraFireProjectile("CrossbowFX3New", -9.0+4.0, 0,            "", -4+2, 3, 0, 0);
				A_SpreadAuraFireProjectile("CrossbowFX3New",  9.0+4.0, 0,            "",  4+2, 3, 0, 0);
			}
			CRBD F 3
			{
				if (CallACS("MiscVarCheckDECORATE",10031) >= 2) { A_SetTics(2); }
				if (CallACS("MiscVarCheckDECORATE",10031) >= 4) { A_SetTics(1); }
			}
			CRBD G 2
			{
				if (CallACS("MiscVarCheckDECORATE",10031) >= 2) { A_SetTics(1); }
				if (CallACS("MiscVarCheckDECORATE",10031) >= 5) { A_SetTics(0); }
			}
			CRBD HAB 3
			{
				if (CallACS("MiscVarCheckDECORATE",10031) >= 2) { A_SetTics(2); }
				if (CallACS("MiscVarCheckDECORATE",10031) >= 4) { A_SetTics(1); }
			}
			CRBD C 4
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 3) { A_SetTics(3); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 5) { A_SetTics(2); }
			}
			CRBD C 0 A_ReFire
			Goto Ready
	}
}

ACTOR RipperNew : RipperBase
{
	DamageType "Magic" 
	Radius 8
	Height 6
	Speed 14
	Damage (finaldamagedealt) // 1
	Projectile
	+RIPPER
	DeathSound "weapons/blasterpowhit"
	Obituary "$OB_MPPBLASTER"
	States
	{
		Spawn:
			FX18 M 0 NoDelay 
			{ 
				A_GetPlayerAttackDamage(24,0);
				A_ScaleVelocity(1.00-((CallACS("MiscVarCheckDECORATE",10053)*0.05)-(CallACS("MiscVarCheckDECORATE",10054)*0.125)));
			}
		Idle:
			FX18 MMMM 1 { A_GetPlayerAttackDamage(24,0); }
			FX18 NNNNN 1 { A_GetPlayerAttackDamage(24,0); }
			Loop
		Death:
			FX18 OPQRS 4 Bright
			Stop
	}
}
ACTOR BlasterPuffNew : AetheriusProjectileZSC 
{ 
	DamageType "Magic" 
	+NOBLOCKMAP
	+NOGRAVITY
	+PUFFONACTORS
	RenderStyle Add
	SeeSound "weapons/blasterhit"
	States
	{
		Crash:
			FX17 ABCDE 4 Bright
			Stop
		Spawn:
			FX17 FG 3 Bright
			FX17 HIJKL 4 Bright
			Stop
	}
}
ACTOR BlasterFX1New : BlasterFX1Base 
{
	Radius 12
	Height 8
	Speed 184
	Damage (finaldamagedealt) //2
	DamageType "Magic"
	SeeSound "weapons/blastershoot"
	DeathSound "weapons/blasterhit"
	+SPAWNSOUNDSOURCE
	Obituary "$OB_MPPBLASTER"

	States
	{
		Spawn:
			ACLO E 0 NoDelay { A_GetPlayerAttackDamage(28,0); }
		Idle:
			ACLO EEEEEEEE 1 { A_GetPlayerAttackDamage(28,0); }
			Loop
		Death:
			FX18 A 3 Bright A_SpawnRippers("RipperNew")
			FX18 B 3 Bright
			FX18 CDEFG 4 Bright
			Stop
	}
}

ACTOR DragonClawNew : HereticWeaponBase replaces Blaster
{
	+BLOODSPLATTER
	Weapon.Kickback 25
	Weapon.SelectionOrder 500
	Weapon.AmmoGive 30
	Weapon.AmmoUse1 1
	Weapon.AmmoUse2 5
	Weapon.AmmoType1 "BlasterAmmo"
	Weapon.AmmoType2 "BlasterAmmo"
	Weapon.YAdjust 0
	Inventory.PickupMessage "Dragon Claw \cx[Slot 4]\c-"
	Tag "$TAG_BLASTER"
	Obituary "$OB_MPBLASTER"
	States
	{
		Spawn:
			WBLS A 0 NoDelay
			{
				if (CountInv("DragonClawNew",AAPTR_PLAYER1) > 0)
				{
					A_SpawnItemEx("DualDragonClawNew");
					A_FadeOut(1,1);
				}
			}
			WBLS A 1
			Loop
		Ready:
			FBLS A 1 A_WeaponReady
			Loop
		Deselect:
			FBLS A 1
			{
				A_DVDSLower(CallACS("MiscVarCheckDECORATE",10053)*3);
				A_DVDSLower(CallACS("MiscVarCheckDECORATE",10054)*7.5);
				A_DVDSLower(CallACS("MiscVarCheckDECORATE",10035)*2);
				A_DVDSLower(CallACS("MiscVarCheckDECORATE",10036)*5);
				A_DVDSLower(18);
			}
			Loop
		Select:
			FBLS A 1 
			{
				A_DVDSRaise(CallACS("MiscVarCheckDECORATE",10053)*3);
				A_DVDSRaise(CallACS("MiscVarCheckDECORATE",10054)*7.5);
				A_DVDSRaise(CallACS("MiscVarCheckDECORATE",10035)*2);
				A_DVDSRaise(CallACS("MiscVarCheckDECORATE",10036)*5);
				A_DVDSRaise(18);
			}
			Loop
		Fire:
			FBLS BC 3
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 2) { A_SetTics(2); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 4) { A_SetTics(1); }
			}
		Hold:
			FBLS D 2
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 3) { A_SetTics(1); }

				CallACS("StartTensionCountDown");	
				A_PlaySound("weapons/blastershoot",1);
				A_SpreadAuraFireBullets(A_GetHitScanXSpread(14),A_GetHitScanYSpread(14),1, A_GetPlayerAttackDamage(27,1),"BlasterPuffNew",FBF_NORANDOM|FBF_NORANDOMPUFFZ,FBF_NORANDOM|FBF_NORANDOMPUFFZ,16384,"",0,0,1,"BlasterAmmo");
			}
			FBLS CB 2
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 3) { A_SetTics(1); }
			}
			FBLS A 0 A_ReFire
			Goto Ready
		AltFire:
			FBLS BC 0
		AltHold:
			TNT1 A 0
			{
				if (A_UseManaAttack(CountInv("AltFireManaCost",AAPTR_PLAYER1),2,0,1) == 0) { return state("Ready"); }
				return state("");
			}
			FBLS D 3 
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 2) { A_SetTics(2); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 4) { A_SetTics(1); }

				CallACS("StartTensionCountDown");
				A_PlaySound("weapons/blastershoot",1);
				A_SpreadAuraFireProjectile("BlasterFX1New",0,5,"BlasterAmmo",0,0,0,0);
			}
			FBLS CB 4
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 1) { A_SetTics(3); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 3) { A_SetTics(2); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 5) { A_SetTics(1); }
			}
			FBLS A 0 A_ReFire
			Goto Ready
	}
}

ACTOR DualDragonClawNew : HereticWeaponBase
{
	+BLOODSPLATTER
	Weapon.Kickback 25
	Weapon.SelectionOrder 500
	Weapon.AmmoGive 30
	Weapon.AmmoUse1 1
	Weapon.AmmoUse2 5
	Weapon.AmmoType1 "BlasterAmmo"
	Weapon.AmmoType2 "BlasterAmmo"
	Weapon.YAdjust 0
	Inventory.PickupMessage "Dragon Claw \cx[Slot 4] (can now dual wield)\c-"
	Tag "Dual Dragon Claws"
	Obituary "$OB_MPBLASTER"
	States
	{
		Spawn:
			WBLS A -1
			Stop
		Ready:
			FDBL A 1 A_WeaponReady
			Loop
		Deselect:
			FDBL A 1
			{
				A_DVDSLower(CallACS("MiscVarCheckDECORATE",10053)*3);
				A_DVDSLower(CallACS("MiscVarCheckDECORATE",10054)*7.5);
				A_DVDSLower(CallACS("MiscVarCheckDECORATE",10035)*2);
				A_DVDSLower(CallACS("MiscVarCheckDECORATE",10036)*5);
				A_DVDSLower(18);
			}
			Loop
		Select:
			FDBL A 1 
			{
				A_DVDSRaise(CallACS("MiscVarCheckDECORATE",10053)*3);
				A_DVDSRaise(CallACS("MiscVarCheckDECORATE",10054)*7.5);
				A_DVDSRaise(CallACS("MiscVarCheckDECORATE",10035)*2);
				A_DVDSRaise(CallACS("MiscVarCheckDECORATE",10036)*5);
				A_DVDSRaise(18);
			}
			Loop
		Fire:
			FDBL BC 3
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 2) { A_SetTics(2); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 4) { A_SetTics(1); }
			}
		Hold:
			FDBL DE 2
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 3) { A_SetTics(1); }

				CallACS("StartTensionCountDown");
				A_PlaySound("weapons/blastershoot",1);
				A_SpreadAuraFireBullets(A_GetHitScanXSpread(14),A_GetHitScanYSpread(14),1, A_GetPlayerAttackDamage(27,1),"BlasterPuffNew",FBF_NORANDOM|FBF_NORANDOMPUFFZ,FBF_NORANDOM|FBF_NORANDOMPUFFZ,16384,"",0,0,1,"BlasterAmmo");
			}
			FDBL FG 2
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 3) { A_SetTics(1); }
			}
			FDBL A 0 A_ReFire
			Goto Ready
		AltFire:
			FDBL BC 0
		AltHold:
			TNT1 A 0
			{
				if (A_UseManaAttack(CountInv("AltFireManaCost",AAPTR_PLAYER1),2,0,1) == 0) { return state("Ready"); }
				return state("");
			}
			FDBL DE 3 
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 2) { A_SetTics(2); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 4) { A_SetTics(1); }

				CallACS("StartTensionCountDown");
				A_PlaySound("weapons/blastershoot",1);
				A_SpreadAuraFireProjectile("BlasterFX1New",0,5,"BlasterAmmo",0,0,0,0);
			}
			FDBL FG 4
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 1) { A_SetTics(3); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 3) { A_SetTics(2); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 5) { A_SetTics(1); }
			}
			FDBL A 0 A_ReFire
			Goto Ready
	}
}

ACTOR HornRodFX1New : AetheriusProjectileZSC 
{ 
	Radius 12
	Height 8
	Speed 22
	Damage (finaldamagedealt) // 3
	DamageType "Magic" 
	Projectile
	+WINDTHRUST
	-NOBLOCKMAP
	RenderStyle Add
	SeeSound "weapons/hornrodshoot"
	DeathSound "weapons/hornrodhit"
	Obituary "$OB_MPSKULLROD"
	States
	{
		Spawn:
			FX00 A 0 Bright NoDelay 
			{ 
				A_GetPlayerAttackDamage(31,0); 
				A_ScaleVelocity(1.00+((CallACS("MiscVarCheckDECORATE",10053)*0.10)+(CallACS("MiscVarCheckDECORATE",10054)*0.25)));
			}
		Idle:
			FX00 AB 6 Bright
			Loop
		Death:
			FX00 H 5 Bright
			{
				A_GetPlayerAttackDamage(31,0);
				A_Explode((finaldamagedealt/8),(16+(CallACS("MiscVarCheckDECORATE",10053)*8)+(CallACS("MiscVarCheckDECORATE",10054)*20)),0,0,(8+(CallACS("MiscVarCheckDECORATE",10053)*4)+(CallACS("MiscVarCheckDECORATE",10053)*10)));
			}
			FX00 I 5 Bright
			FX00 JK 4 Bright
			FX00 LM 3 Bright
			Stop
	}
}
ACTOR HornRodFX2New : HornRodFX2Base
{ 
	Damage (finaldamagedealt) //2
	DamageType "Acid"
	DamageType "Magic" 
	+SEEKERMISSILE
	States
	{
		Spawn:
			FX00 C 0 Bright NoDelay 
			{
				A_GetPlayerAttackDamage(32,0); 
				A_ScaleVelocity(1.00+((CallACS("MiscVarCheckDECORATE",10053)*0.10)+(CallACS("MiscVarCheckDECORATE",10054)*0.25)));
			}
		Idle:
			FX00 C 0 Bright 
			{ 
				A_ScaleVelocity(1.0625);
				user_fuse = random(120,160); 
			}
			FX00 C 3 Bright
			FX00 D 3 Bright A_SeekerMissile(10,30,SMF_LOOK|SMF_PRECISE|SMF_CURSPEED,96,32)
			FX00 E 3 Bright
			FX00 F 3 Bright A_SeekerMissile(10,30,SMF_LOOK|SMF_PRECISE|SMF_CURSPEED,96,32)
			Loop
		Death:
			FX00 H 5 Bright // A_AddPlayerRain
			FX00 I 5 Bright 
			{
				A_GetPlayerAttackDamage(32,0);
				A_Explode((16+random(-9,9)+(finaldamagedealt/8)),(32+(CallACS("MiscVarCheckDECORATE",10053)*16)+(CallACS("MiscVarCheckDECORATE",10054)*40)),0,0,(16+(CallACS("MiscVarCheckDECORATE",10053)*8)+(CallACS("MiscVarCheckDECORATE",10053)*20)));
			}
			FX00 J 4 Bright
			FX00 KLM 3 Bright
			FX00 G 1 A_HideInCeiling
			FX00 G 1 A_SkullRodStorm("RainPillarNew", 64,64, 231,16,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0)
			Wait
	}
}
ACTOR RainPillarNew : RainPillarBase replaces RainPillar 
{
	Damage (finaldamagedealt) //5
	DamageType "Magic" 
	ProjectileKickback 6
	States
	{
		Spawn:
			FX22 A 0 NoDelay { A_GetPlayerAttackDamage(43,0); }
		Idle:
			FX22 A -1 Bright
			Stop
		Death:
			FX22 B 4 Bright A_RainImpact
			FX22 CDEF 4 Bright
			Stop
		NotFloor:
			FX22 GHI 4 Bright
			Stop
	}
}

ACTOR HellStaffNew : HereticWeaponBase replaces SkullRod
{
	Weapon.SelectionOrder 200
	Weapon.Kickback 25
	Weapon.AmmoUse1 1
	Weapon.AmmoUse2 5
	Weapon.AmmoGive1 50
	Weapon.YAdjust 0
	Weapon.AmmoType1 "SkullRodAmmo"
	Weapon.AmmoType2 "SkullRodAmmo"
	Inventory.PickupMessage "Hellstaff \cx[Slot 5]\c-"
	Tag "$TAG_SKULLROD"

	States
	{
		Spawn:
			WSKL A 0 NoDelay
			{
				if (CountInv("HellStaffNew",AAPTR_PLAYER1) > 0)
				{
					A_SpawnItemEx("DualHellStaffNew");
					A_FadeOut(1,1);
				}
			}
			WSKL A 1
			Loop
		Ready:
			HROD A 1 A_WeaponReady
			Loop
		Deselect:
			HROD A 1 
			{
				A_DVDSLower(CallACS("MiscVarCheckDECORATE",10053)*3);
				A_DVDSLower(CallACS("MiscVarCheckDECORATE",10054)*7.5);
				A_DVDSLower(CallACS("MiscVarCheckDECORATE",10035)*2);
				A_DVDSLower(CallACS("MiscVarCheckDECORATE",10036)*5);
				A_DVDSLower(18);
			}
			Loop
		Select:
			HROD A 1 
			{
				A_DVDSRaise(CallACS("MiscVarCheckDECORATE",10053)*3);
				A_DVDSRaise(CallACS("MiscVarCheckDECORATE",10054)*7.5);
				A_DVDSRaise(CallACS("MiscVarCheckDECORATE",10035)*2);
				A_DVDSRaise(CallACS("MiscVarCheckDECORATE",10036)*5);
				A_DVDSRaise(18);
			}
			Loop
		Fire:
			HROD AB 4
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 2) { A_SetTics(3); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 4) { A_SetTics(2); }

				CallACS("StartTensionCountDown");
				A_PlaySound("weapons/hornrodshoot",1);
				A_SpreadAuraFireProjectile("HornRodFX1New",0,1,"SkullRodAmmo",0,0,0,0);
			}
			HROD B 0 A_ReFire
			Goto Ready
		AltFire:
			TNT1 A 0
			{
				if (A_UseManaAttack(CountInv("AltFireManaCost",AAPTR_PLAYER1),2,0,1) == 0) { return state("Ready"); }
				return state("");
			}
			HROD C 2
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 3) { A_SetTics(1); }
			}
			HROD D 3
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 2) { A_SetTics(2); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 4) { A_SetTics(1); }
			}
			HROD E 2
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 3) { A_SetTics(1); }
			}
			HROD F 3
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 2) { A_SetTics(2); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 4) { A_SetTics(1); }
			}
			HROD G 4 // A_FireSkullRodPL2
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 2) { A_SetTics(3); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 4) { A_SetTics(2); }

				CallACS("StartTensionCountDown");
				A_PlaySound("weapons/hornrodpowshoot",1);
				A_SpreadAuraFireProjectile("HornRodFX2New",0,5,"SkullRodAmmo",0,0,1,0);
			}
			HROD F 2
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 3) { A_SetTics(1); }
			}
			HROD E 3
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 2) { A_SetTics(2); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 4) { A_SetTics(1); }
			}
			HROD DC 2
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 3) { A_SetTics(1); }
			}
			HROD C 0 A_ReFire
			Goto Ready
	}
}

ACTOR DualHellStaffNew : HereticWeaponBase
{
	Weapon.SelectionOrder 200
	Weapon.Kickback 25
	Weapon.AmmoUse1 1
	Weapon.AmmoUse2 5
	Weapon.AmmoGive1 50
	Weapon.YAdjust 0
	Weapon.AmmoType1 "SkullRodAmmo"
	Weapon.AmmoType2 "SkullRodAmmo"
	Inventory.PickupMessage "Hellstaff \cx[Slot 5] (can now dual wield)\c-"
	Tag "Dual HellStaves"
	States
	{
		Spawn:
			WSKL A -1
			Stop
		Ready:
			DHRD A 1 A_WeaponReady
			Loop
		Deselect:
			DHRD A 1
			{
				A_DVDSLower(CallACS("MiscVarCheckDECORATE",10053)*3);
				A_DVDSLower(CallACS("MiscVarCheckDECORATE",10054)*7.5);
				A_DVDSLower(CallACS("MiscVarCheckDECORATE",10035)*2);
				A_DVDSLower(CallACS("MiscVarCheckDECORATE",10036)*5);
				A_DVDSLower(18);
			}
			Loop
		Select:
			DHRD A 1
			{
				A_DVDSRaise(CallACS("MiscVarCheckDECORATE",10053)*3);
				A_DVDSRaise(CallACS("MiscVarCheckDECORATE",10054)*7.5);
				A_DVDSRaise(CallACS("MiscVarCheckDECORATE",10035)*2);
				A_DVDSRaise(CallACS("MiscVarCheckDECORATE",10036)*5);
				A_DVDSRaise(18);
			}
			Loop
		Fire:
			DHRD AB 4
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 2) { A_SetTics(3); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 4) { A_SetTics(2); }

				CallACS("StartTensionCountDown");
				A_PlaySound("weapons/hornrodshoot",1);
				A_PlaySound("weapons/hornrodshoot",1);
				A_SpreadAuraFireProjectile("HornRodFX1New", 3,1,"SkullRodAmmo", 3,0,0,0);
				A_SpreadAuraFireProjectile("HornRodFX1New",-3,1,"SkullRodAmmo",-3,0,0,0);
			}
			DHRD B 0 A_ReFire
			Goto Ready
		AltFire:
			TNT1 A 0
			{
				if (A_UseManaAttack(CountInv("AltFireManaCost",AAPTR_PLAYER1),2,0,1) == 0) { return state("Ready"); }
				return state("");
			}
			DHRD C 2
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 3) { A_SetTics(1); }
			}
			DHRD D 3
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 2) { A_SetTics(2); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 4) { A_SetTics(1); }
			}
			DHRD E 2
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 3) { A_SetTics(1); }
			}
			DHRD F 3
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 2) { A_SetTics(2); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 4) { A_SetTics(1); }
			}
			DHRD G 4 // A_FireSkullRodPL2
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 2) { A_SetTics(3); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 4) { A_SetTics(2); }

				CallACS("StartTensionCountDown");
				A_PlaySound("weapons/hornrodpowshoot",1);
				A_SpreadAuraFireProjectile("HornRodFX2New", 3,5,"SkullRodAmmo", 3,0,1,0);
				A_SpreadAuraFireProjectile("HornRodFX2New",-3,5,"SkullRodAmmo",-3,0,1,0);
			}
			DHRD F 2
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 3) { A_SetTics(1); }
			}
			DHRD E 3
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 2) { A_SetTics(2); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 4) { A_SetTics(1); }
			}
			DHRD DC 2
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 3) { A_SetTics(1); }
			}
			DHRD C 0 A_ReFire
			Goto Ready
	}
}

ACTOR PhoenixPuff2 : PhoenixPuff
{
	+NOBLOCKMAP
	+NOGRAVITY
	+NOTELEPORT
	+CANNOTPUSH
	Scale 0.75
	RenderStyle Add
	Alpha 0.30
	States
	{
		Spawn:
			FX04 BCDEF 2
			Stop
	}
}

ACTOR PhoenixFX1New : PhoenixFX1Base
{
	Damage (finaldamagedealt) //2
	DamageType "Fire"
	States
	{
		Spawn:
			FX04 A 0 Bright NoDelay 
			{ 
				A_GetPlayerAttackDamage(33,0); 
				A_ScaleVelocity(1.00+((CallACS("MiscVarCheckDECORATE",10053)*0.10)+(CallACS("MiscVarCheckDECORATE",10054)*0.25)));
			}
		Idle:
			FX04 A 4 Bright A_PhoenixPuff
			Loop
		Death:
			TNT1 A 0 
			{
				A_PlaySound("weapons/phoenixhit");
				A_Quake(1, 4, 0, 512, "");
				A_Quake(4, 4, 0, 256, "");
			}
			FX08 A 6 Bright 
			{
				A_GetPlayerAttackDamage(61,0);
				A_Explode((finaldamagedealt),128,1);
			}
			FX08 BC 5 Bright
			FX08 DEFGH 4 Bright
			Stop
	}
}
ACTOR PhoenixFX1NoAOE : PhoenixFX1New // Spread shots of Phoenix Rod, cannot deal self-AOE [necessary due to how Spreader Aura spreads out extra shots]
{
	Damage (finaldamagedealt) //2
	DamageType "Fire"
	States
	{
		Spawn:
			FX04 A 0 Bright NoDelay 
			{ 
				A_GetPlayerAttackDamage(33,0); 
				A_ScaleVelocity(1.00+((CallACS("MiscVarCheckDECORATE",10053)*0.10)+(CallACS("MiscVarCheckDECORATE",10054)*0.25)));
			}
		Idle:
			FX04 A 4 Bright A_PhoenixPuff
			Loop
		Death:
			TNT1 A 0 
			{
				A_PlaySound("weapons/phoenixhit");
				A_Quake(1, 4, 0, 512, "");
				A_Quake(4, 4, 0, 256, "");
			}
			FX08 A 6 Bright A_Explode(128,128,0)
			FX08 BC 5 Bright
			FX08 DEFGH 4 Bright
			Stop
	}
}
ACTOR PhoenixFX1Seeking : PhoenixFX1New
{
	Speed 15 // 20
	Scale 0.75
	var float user_seekstrength;
	var int user_specificTarget;
	States
	{
		Spawn:
			FX04 A 0 NoDelay 
			{
				A_GetPlayerAttackDamage(33,0);
				A_ScaleVelocity(1.00+((CallACS("MiscVarCheckDECORATE",10053)*0.05)+(CallACS("MiscVarCheckDECORATE",10054)*0.125)));

				user_seekstrength = (CallACS("MiscVarCheckDECORATE", 10053) + (CallACS("MiscVarCheckDECORATE", 10054) * 2)) * 2;
				if (user_seekstrength > 0)
				{
					A_ChangeFlag("SEEKERMISSILE", true);
					if (random(1,4) == 1) { A_ChangeFlag("THRUGHOST", false); } else { A_ChangeFlag("THRUGHOST", true); }
					
					// When the rocket is first fired, check if it's being aimed at a specific target. If so, lock on to that target.
					user_specificTarget = A_SelectSeekTargetByShooterAim;
				}
				// This is needed so that subclasses can override the Idle state.
				return state("Idle");
			}
		Idle:
			FX04 A 1 Bright 
			{
				if (user_seekstrength > 0)
				{
					A_SuperSeekerMissile(user_seekstrength, user_seekstrength, !user_specificTarget);
				}
			}
			FX04 A 1 Bright 
			{
				//A_PhoenixPuff("PhoenixPuff2",45.0*random(1,2),1.3);
				A_PhoenixPuff("PhoenixPuff2",11.25*random(1,8),1.3);
				if (user_seekstrength > 0)
				{
					A_SuperSeekerMissile(user_seekstrength, user_seekstrength, !user_specificTarget);
				}
			}
			Loop
	}
}
ACTOR PhoenixFX1NoAOESeeking : PhoenixFX1NoAOE
{
	Speed 15 // 20
	Scale 0.75
	var float user_seekstrength;
	var int user_specificTarget;
	States
	{
		Spawn:
			FX04 A 0 NoDelay 
			{
				A_GetPlayerAttackDamage(33,0);
				A_ScaleVelocity(1.00+((CallACS("MiscVarCheckDECORATE",10053)*0.05)+(CallACS("MiscVarCheckDECORATE",10054)*0.125)));
				user_seekstrength = (CallACS("MiscVarCheckDECORATE", 10053) + (CallACS("MiscVarCheckDECORATE", 10054) * 2)) * 2;
				if (user_seekstrength > 0)
				{
					A_ChangeFlag("SEEKERMISSILE", true);
					if (random(1,4) == 1) { A_ChangeFlag("THRUGHOST", false); } else { A_ChangeFlag("THRUGHOST", true); }
					
					// When the rocket is first fired, check if it's being aimed at a specific target. If so, lock on to that target.
					user_specificTarget = A_SelectSeekTargetByShooterAim;
				}
				// This is needed so that subclasses can override the Idle state.
				return state("Idle");
			}
		Idle:
			FX04 A 1 Bright 
			{
				if (user_seekstrength > 0)
				{
					A_SuperSeekerMissile(user_seekstrength, user_seekstrength, !user_specificTarget);
				}
			}
			FX04 A 1 Bright 
			{
				//A_PhoenixPuff("PhoenixPuff2",45.0*random(1,2),1.3);
				A_PhoenixPuff("PhoenixPuff2",11.25*random(1,8),1.3);
				if (user_seekstrength > 0)
				{
					A_SuperSeekerMissile(user_seekstrength, user_seekstrength, !user_specificTarget);
				}
			}
			Loop
	}
}
ACTOR PhoenixFX2New : PhoenixFX2Base
{
	Damage (finaldamagedealt) //2
	DamageType "Fire"
	ProjectileKickback 0
	+NODAMAGETHRUST
	States
	{
		Spawn:
			FX09 A 0 NoDelay 
			{ 
				A_GetPlayerAttackDamage(34,0); 
				A_ScaleVelocity(1.00+((CallACS("MiscVarCheckDECORATE",10053)*0.05)+(CallACS("MiscVarCheckDECORATE",10054)*0.125)));
			}
		Idle:
			FX09 ABABA 2 Bright
			FX09 B 2 Bright A_FlameEnd
			FX09 CDEF 2 Bright
			Stop
		Death:
			FX09 G 3 Bright
			FX09 H 3 Bright A_FloatPuff
			FX09 I 4 Bright
			FX09 JK 5 Bright
			Stop
	}
}
ACTOR PhoenixFX2Seeking : PhoenixFX2Base
{
	Scale 0.75
	var float user_seekstrength;
	var int user_specificTarget;
	States
	{
		Spawn:
			FX09 A 0 NoDelay 
			{
				A_GetPlayerAttackDamage(34,0);
				A_ScaleVelocity(1.00+((CallACS("MiscVarCheckDECORATE",10053)*0.05)+(CallACS("MiscVarCheckDECORATE",10054)*0.125)));
				user_seekstrength = (CallACS("MiscVarCheckDECORATE", 10053) + (CallACS("MiscVarCheckDECORATE", 10054) * 2)) * 4;
				if (user_seekstrength > 0)
				{
					A_ChangeFlag("SEEKERMISSILE", true);
					
					// When the rocket is first fired, check if it's being aimed at a specific target. If so, lock on to that target.
					user_specificTarget = A_SelectSeekTargetByShooterAim;
				}
				// This is needed so that subclasses can override the Idle state.
				return state("Idle");
			}
		Idle:
			FX09 AABBAABBAA 1 Bright 
			{
				if (user_seekstrength > 0)
				{
					A_SuperSeekerMissile(user_seekstrength, user_seekstrength, !user_specificTarget);
				}
			}
			FX09 B 1 Bright 
			{
				A_FlameEnd;
				if (user_seekstrength > 0)
				{
					A_SuperSeekerMissile(user_seekstrength, user_seekstrength, !user_specificTarget);
				}
			}
			FX09 BCCDDEEFF 1 Bright 
			{
				if (user_seekstrength > 0)
				{
					A_SuperSeekerMissile(user_seekstrength, user_seekstrength, !user_specificTarget);
				}
			}
			stop
	}
}
ACTOR PhoenixRodNew : HereticWeaponBase replaces PhoenixRod 
{
	+WEAPON.NOAUTOFIRE
	Weapon.SelectionOrder 2600
	Weapon.Kickback 38
	Weapon.YAdjust 0
	Weapon.AmmoUse1 1
	Weapon.AmmoUse2 0
	Weapon.AmmoGive 2
	Weapon.AmmoType1 "PhoenixRodAmmo"
	Weapon.AmmoType2 "PhoenixRodAmmo"
	Inventory.PickupMessage "Phoenix Rod \cx[Slot 6]\c-"
	Tag "$TAG_PHOENIxROD"

	States
	{
		Spawn:
			WPHX A 0 NoDelay
			{
				if (CountInv("PhoenixRodNew",AAPTR_PLAYER1) > 0)
				{
					A_SpawnItemEx("DualPhoenixRodNew");
					A_FadeOut(1,1);
				}
			}
			WPHX A 1
			Loop
		Ready:
			PHNX A 1 A_WeaponReady(WRF_ALLOWUSER4)
			Loop
		Deselect:
			PHNX A 1
			{
				A_DVDSLower(CallACS("MiscVarCheckDECORATE",10053)*3);
				A_DVDSLower(CallACS("MiscVarCheckDECORATE",10054)*7.5);
				A_DVDSLower(CallACS("MiscVarCheckDECORATE",10035)*2);
				A_DVDSLower(CallACS("MiscVarCheckDECORATE",10036)*5);
				A_DVDSLower(18);
			}
			Loop
		Select:
			PHNX A 1 
			{
				A_DVDSRaise(CallACS("MiscVarCheckDECORATE",10053)*3);
				A_DVDSRaise(CallACS("MiscVarCheckDECORATE",10054)*7.5);
				A_DVDSRaise(CallACS("MiscVarCheckDECORATE",10035)*2);
				A_DVDSRaise(CallACS("MiscVarCheckDECORATE",10036)*5);
				A_DVDSRaise(18);
			}
			Loop
		Fire:
			PHNX B 5
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 1) { A_SetTics(4); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 3) { A_SetTics(3); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 5) { A_SetTics(2); }
			}
			PHNX C 7
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 1) { A_SetTics(6); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 3) { A_SetTics(5); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 5) { A_SetTics(4); }

				CallACS("StartTensionCountDown");
				if (CountInv("PRMode",AAPTR_PLAYER1) == 0)
				{
					A_SpreadAuraFireProjectileAoE("PhoenixFX1New","PhoenixFX1NoAOE",0,1,"PhoenixRodAmmo",0,0,0,0);
				}
				else
				if (CountInv("PRMode",AAPTR_PLAYER1) == 1)
				{
					A_SpreadAuraFireProjectileAoE("PhoenixFX1Seeking","PhoenixFX1NoAOESeeking",0,1,"PhoenixRodAmmo",0,0,0,0);
				}

				A_GetWeaponShotRecoil(1);
			}
			PHNX DB 4
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 2) { A_SetTics(3); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 4) { A_SetTics(2); }
			}
			PHNX B 0 A_ReFire
			Goto Ready
		AltFire:
			TNT1 A 0
			{
				if (A_WeaponCheckInfiniteAmmo > 0)
				{
					if (A_UseManaAttack(CountInv("AltFireManaCost",AAPTR_PLAYER1),2,0,1) == 0) { return state("Ready"); }
					return state("");
				}
				else
				{
					if (CountInv("PhoenixRodAmmo",AAPTR_PLAYER1) >= 1) 
					{
						if (A_UseManaAttack(CountInv("AltFireManaCost",AAPTR_PLAYER1),2,0,1) == 0) { return state("Ready"); }
						return state("");
					}
					else
					{
						if (CountInv("FlameCount",AAPTR_PLAYER1) >= 1) 
						{
							if (A_UseManaAttack(CountInv("AltFireManaCost",AAPTR_PLAYER1),2,0,1) == 0) { return state("Ready"); }
							return state("");
						}
						else
						{
							return state("Ready");
						}
					}
				}
			}
			PHNX B 3 // A_InitPhoenixPL2
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 2) { A_SetTics(2); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 4) { A_SetTics(1); }

				A_FlameCount(0,350);
			}
		AltHold:
			PHNX C 1 // A_FirePhoenixPL2
			{
				CallACS("StartTensionCountDown");
				if (CountInv("PRMode",AAPTR_PLAYER1) == 0)
				{
					A_SpreadAuraFireProjectile("PhoenixFX2New",random(-2,2),0,"",random(-2,2),0,1,2);
				}
				else
				if (CountInv("PRMode",AAPTR_PLAYER1) == 1)
				{
					A_SpreadAuraFireProjectile("PhoenixFX2Seeking",random(-2,2),0,"",random(-2,2),0,1,2);
				}
				A_PlaySound("weapons/phoenixpowshoot",1,1.0,1);
				A_FlameCount(1,-1);
				A_FlameCount(2,350);
			}
			PHNX B 4 
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 2) { A_SetTics(3); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 4) { A_SetTics(2); }
				A_ReFire;
			}
		AltPowerdown:
			PHNX B 4 // A_ShutdownPhoenixPL2
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 2) { A_SetTics(3); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 4) { A_SetTics(2); }

				A_StopSound(CHAN_WEAPON);
			}
			Goto Ready
			
		User4:
			PHNX A 0
			{
				if (CountInv("PRMode",AAPTR_PLAYER1) == 0)
				{
					if (CallACS("MiscVarCheckDECORATE",10053) > 0)
					{
						A_SetInventory("PRMode",1,AAPTR_PLAYER1);
						A_Print("Using Seeking Shots");
						A_PlaySound("world/lavasizzle",0);
					}
				}
				else
				if (CountInv("PRMode",AAPTR_PLAYER1) == 1)
				{
					A_SetInventory("PRMode",0,AAPTR_PLAYER1);
					A_Print("Using Non-Seeking Shots");
					A_PlaySound("world/lavasizzle",0);
				}
			}
			PHNX A 8
			goto Ready
	}
}

ACTOR DualPhoenixRodNew : HereticWeaponBase
{
	+WEAPON.NOAUTOFIRE
	Weapon.SelectionOrder 2600
	Weapon.Kickback 38
	Weapon.YAdjust 0
	Weapon.AmmoUse1 1
	Weapon.AmmoUse2 0
	Weapon.AmmoGive 2
	Weapon.AmmoType1 "PhoenixRodAmmo"
	Weapon.AmmoType2 "PhoenixRodAmmo"
	Inventory.PickupMessage "Phoenix Rod \cx[Slot 6] (can now dual wield)\c-"
	Tag "Dual Phoenix Rods"

	States
	{
		Spawn:
			WPHX A -1
			Stop
		Ready:
			PHND A 1 A_WeaponReady(WRF_ALLOWUSER4)
			Loop
		Deselect:
			PHND A 1
			{
				A_DVDSLower(CallACS("MiscVarCheckDECORATE",10053)*3);
				A_DVDSLower(CallACS("MiscVarCheckDECORATE",10054)*7.5);
				A_DVDSLower(CallACS("MiscVarCheckDECORATE",10035)*2);
				A_DVDSLower(CallACS("MiscVarCheckDECORATE",10036)*5);
				A_DVDSLower(18);
			}
			Loop
		Select:
			PHND A 1 
			{
				A_DVDSRaise(CallACS("MiscVarCheckDECORATE",10053)*3);
				A_DVDSRaise(CallACS("MiscVarCheckDECORATE",10054)*7.5);
				A_DVDSRaise(CallACS("MiscVarCheckDECORATE",10035)*2);
				A_DVDSRaise(CallACS("MiscVarCheckDECORATE",10036)*5);
				A_DVDSRaise(18);
			}
			Loop
		Fire:
			PHND B 5
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 1) { A_SetTics(4); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 3) { A_SetTics(3); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 5) { A_SetTics(2); }
			}
			PHND C 7
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 1) { A_SetTics(6); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 3) { A_SetTics(5); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 5) { A_SetTics(4); }

				CallACS("StartTensionCountDown");
				if (CountInv("PRMode",AAPTR_PLAYER1) == 0)
				{
					A_SpreadAuraFireProjectileAoE("PhoenixFX1New","PhoenixFX1NoAOE", 3,1,"PhoenixRodAmmo", 3,0,0,0);
					A_SpreadAuraFireProjectileAoE("PhoenixFX1New","PhoenixFX1NoAOE",-3,1,"PhoenixRodAmmo",-3,0,0,0);
				}
				else
				if (CountInv("PRMode",AAPTR_PLAYER1) == 1)
				{
					A_SpreadAuraFireProjectileAoE("PhoenixFX1Seeking","PhoenixFX1NoAOESeeking", 3,1,"PhoenixRodAmmo", 3,0,0,0);
					A_SpreadAuraFireProjectileAoE("PhoenixFX1Seeking","PhoenixFX1NoAOESeeking",-3,1,"PhoenixRodAmmo",-3,0,0,0);
				}

				A_GetWeaponShotRecoil(2);
			}
			PHND DB 4
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 2) { A_SetTics(3); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 4) { A_SetTics(2); }
			}
			PHND B 0 A_ReFire
			Goto Ready
		AltFire:
			TNT1 A 0
			{
				if (A_WeaponCheckInfiniteAmmo > 0)
				{
					if (A_UseManaAttack(CountInv("AltFireManaCost",AAPTR_PLAYER1),2,0,1) == 0) { return state("Ready"); }
					return state("");
				}
				else
				{
					if (CountInv("PhoenixRodAmmo",AAPTR_PLAYER1) >= 2) 
					{
						if (A_UseManaAttack(CountInv("AltFireManaCost",AAPTR_PLAYER1),2,0,1) == 0) { return state("Ready"); }
						return state("");
					}
					else
					{
						if (CountInv("DualFlameCount",AAPTR_PLAYER1) >= 1) 
						{
							if (A_UseManaAttack(CountInv("AltFireManaCost",AAPTR_PLAYER1),2,0,1) == 0) { return state("Ready"); }
							return state("");
						}
						else
						{
							return state("Ready");
						}
					}
				}
			}
			PHND B 3 // A_InitPhoenixPL2
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 2) { A_SetTics(2); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 4) { A_SetTics(1); }

				A_FlameCount(0,350);
			}
		AltHold:
			PHND C 1 // A_FirePhoenixPL2
			{
				CallACS("StartTensionCountDown");
				if (CountInv("PRMode",AAPTR_PLAYER1) == 0)
				{
					A_SpreadAuraFireProjectile("PhoenixFX2New",random(-5,1),0,"",random(-5,1),0,1,2);
					A_SpreadAuraFireProjectile("PhoenixFX2New",random(1,5),0,"",random(1,5),0,1,2);
				}
				else
				if (CountInv("PRMode",AAPTR_PLAYER1) == 1)
				{
					A_SpreadAuraFireProjectile("PhoenixFX2Seeking",random(-5,1),0,"",random(-5,1),0,1,2);
					A_SpreadAuraFireProjectile("PhoenixFX2Seeking",random(1,5),0,"",random(1,5),0,1,2);
				}
				A_PlaySound("weapons/phoenixpowshoot",1,1.0,1);
				A_PlaySound("weapons/phoenixpowshoot",1,1.0,1);
				A_FlameCount(1,-1);
				A_FlameCount(2,350);
			}
			PHND B 4 
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 2) { A_SetTics(3); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 4) { A_SetTics(2); }

				A_ReFire;
			}
		AltPowerdown:
			PHND B 4 // A_ShutdownPhoenixPL2
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 2) { A_SetTics(3); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 4) { A_SetTics(2); }

				A_StopSound(CHAN_WEAPON);
			}
			Goto Ready
			
		User4:
			PHND A 0
			{
				if (CountInv("PRMode",AAPTR_PLAYER1) == 0)
				{
					if (CallACS("MiscVarCheckDECORATE",10053) > 0)
					{
						A_SetInventory("PRMode",1,AAPTR_PLAYER1);
						A_Print("Using Seeking Shots");
						A_PlaySound("world/lavasizzle",0);
					}
				}
				else
				if (CountInv("PRMode",AAPTR_PLAYER1) == 1)
				{
					A_SetInventory("PRMode",0,AAPTR_PLAYER1);
					A_Print("Using Non-Seeking Shots");
					A_PlaySound("world/lavasizzle",0);
				}
			}
			PHND A 8
			goto Ready
	}
}

ACTOR MaceFX1New : MaceFX1Base
{
	Damage (finaldamagedealt) //2
	BounceType "HexenCompat"
	BounceFactor 0.85
	BounceCount 4
	DamageType "Magic"
	States
	{
		Spawn:
			FX02 A 0 NoDelay 
			{ 
				A_GetPlayerAttackDamage(35,0); 
				A_ScaleVelocity(1.00+((CallACS("MiscVarCheckDECORATE",10053)*0.1)+(CallACS("MiscVarCheckDECORATE",10054)*0.25)));
			}
		Idle:
			FX02 AB 4 A_MacePL1Check
			Loop
		Death:
			FX02 F 4 BRIGHT A_MaceBallImpact
			FX02 GHIJ 4 BRIGHT
			Stop
	}
}
ACTOR MaceFX2New : MaceFX2Base 
{ 
	Damage (finaldamagedealt) //2
	BounceType "HexenCompat"
	BounceFactor 0.85
	BounceCount 4
	DamageType "Magic" 
	States
	{
		Spawn:
			FX02 C 0 NoDelay 
			{ 
				A_GetPlayerAttackDamage(36,0); 
				A_ScaleVelocity(1.00+((CallACS("MiscVarCheckDECORATE",10053)*0.1)+(CallACS("MiscVarCheckDECORATE",10054)*0.25)));
			}
		Idle:
			FX02 CD 4
			Loop
	}
}
ACTOR MaceFX3New : MaceFX3Base
{ 
	Damage (finaldamagedealt) //2
	BounceType "HexenCompat"
	BounceFactor 0.85
	BounceCount 4
	DamageType "Magic" 
	States
	{
		Spawn:
			FX02 A 0 NoDelay 
			{
				A_GetPlayerAttackDamage(37,0); 
				A_ScaleVelocity(1.00+((CallACS("MiscVarCheckDECORATE",10053)*0.1)+(CallACS("MiscVarCheckDECORATE",10054)*0.25)));
			}
		Idle:
			FX02 AB 4
			Loop
	}
}
ACTOR MaceFX4New : MaceFX4Base
{ 
	Damage (finaldamagedealt) //2
	BounceType "HexenCompat"
	BounceFactor 0.925
	BounceCount 8
	DamageType "Magic" 
	States
	{
		Spawn:
			FX02 E 0 NoDelay 
			{ 
				A_GetPlayerAttackDamage(38,0); 
				A_ScaleVelocity(1.00+((CallACS("MiscVarCheckDECORATE",10053)*0.1)+(CallACS("MiscVarCheckDECORATE",10054)*0.25)));
			}
		Idle:
			FX02 E 99
			Loop
		Death:
			TNT1 A 0 
			{
				A_PlaySound("weapons/phoenixhit");
				A_Quake(1, 4, 0, 512, "");
				A_Quake(4, 4, 0, 256, "");
			}
			FX02 C 4 A_DeathBallImpact
			FX02 GHIJ 4 BRIGHT
			Stop
	}
}

ACTOR MaceSpawnerNew : MaceSpawner replaces MaceSpawner
{
	+NOSECTOR
	+NOBLOCKMAP
	States
	{
		Spawn:
			TNT1 A 1
			TNT1 A -1 A_SpawnItemEx("FiremaceNew")
			Stop
	}
}

ACTOR FiremaceNew : HereticWeaponBase replaces Mace
{
	Weapon.SelectionOrder 1400
	Weapon.Kickback 13
	Weapon.AmmoUse1 1
	Weapon.AmmoUse2 5
	Weapon.AmmoGive1 50
	Weapon.YAdjust 0
	Weapon.AmmoType1 "MaceAmmo"
	Weapon.AmmoType2 "MaceAmmo"
	Inventory.PickupMessage "Firemace \cx[Slot 7]\c-"
	Tag "$TAG_MACE"

	States
	{
		Spawn:
			WMCE A 0 NoDelay
			{
				if (CountInv("FiremaceNew",AAPTR_PLAYER1) > 0)
				{
					A_SpawnItemEx("DualFiremaceNew");
					A_FadeOut(1,1);
				}
			}
			WMCE A 1
			Loop
		Ready:
			MACE A 1 A_WeaponReady
			Loop
		Deselect:
			MACE A 1
			{
				A_DVDSLower(CallACS("MiscVarCheckDECORATE",10053)*3);
				A_DVDSLower(CallACS("MiscVarCheckDECORATE",10054)*7.5);
				A_DVDSLower(CallACS("MiscVarCheckDECORATE",10035)*2);
				A_DVDSLower(CallACS("MiscVarCheckDECORATE",10036)*5);
				A_DVDSLower(18);
			}
			Loop
		Select:
			MACE A 1 
			{
				A_DVDSRaise(CallACS("MiscVarCheckDECORATE",10053)*3);
				A_DVDSRaise(CallACS("MiscVarCheckDECORATE",10054)*7.5);
				A_DVDSRaise(CallACS("MiscVarCheckDECORATE",10035)*2);
				A_DVDSRaise(CallACS("MiscVarCheckDECORATE",10036)*5);
				A_DVDSRaise(18);
			}
			Loop
		Fire:
			MACE B 4
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 2) { A_SetTics(3); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 4) { A_SetTics(2); }
			}
		Hold:
			MACE CDEF 3
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 2) { A_SetTics(2); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 4) { A_SetTics(1); }

				CallACS("StartTensionCountDown");
				A_PlaySound("weapons/maceshoot",1);
				if (random(1,100) <= 89) 
				{
					A_SpreadAuraFireProjectile("MaceFX1New",frandom(-4.21875,4.21875),1,"MaceAmmo",0,0,0,0);
				}
				else 
				{
					A_SpreadAuraFireProjectile("MaceFX2New",0,1,"MaceAmmo",0,0,0,-2);
				}
			}
			MACE C 4
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 2) { A_SetTics(3); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 4) { A_SetTics(2); }

				A_ReFire;
			}
			MACE DEFB 4
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 2) { A_SetTics(3); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 4) { A_SetTics(2); }
			}
			Goto Ready
		AltFire:
		AltHold:
			TNT1 A 0
			{
				if (A_UseManaAttack(CountInv("AltFireManaCost",AAPTR_PLAYER1),2,0,1) == 0) { return state("Ready"); }
				return state("");
			}
			MACE B 4
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 2) { A_SetTics(3); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 4) { A_SetTics(2); }
			}
			MACE D 4 // A_FireMacePL2
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 2) { A_SetTics(3); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 4) { A_SetTics(2); }

				CallACS("StartTensionCountDown");
				A_PlaySound("weapons/maceshoot",1);
				A_SpreadAuraFireProjectile("MaceFX4New",0,5,"MaceAmmo",0,0,1,0);
			}
			MACE B 4
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 2) { A_SetTics(3); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 4) { A_SetTics(2); }
			}
			MACE A 8 
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 2) { A_SetTics(6); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 4) { A_SetTics(4); }
				A_ReFire;
			}
			Goto Ready
	}
}

ACTOR DualFiremaceNew : HereticWeaponBase
{
	Weapon.SelectionOrder 1400
	Weapon.Kickback 13
	Weapon.AmmoUse1 1
	Weapon.AmmoUse2 5
	Weapon.AmmoGive1 50
	Weapon.YAdjust 0
	Weapon.AmmoType1 "MaceAmmo"
	Weapon.AmmoType2 "MaceAmmo"
	Inventory.PickupMessage "Firemace \cx[Slot 7] (can now dual wield)\c-"
	Tag "Dual Firemaces"

	States
	{
		Spawn:
			WMCE A -1
			Stop
		Ready:
			DMAC A 1 A_WeaponReady
			Loop
		Deselect:
			DMAC A 1
			{
				A_DVDSLower(CallACS("MiscVarCheckDECORATE",10053)*3);
				A_DVDSLower(CallACS("MiscVarCheckDECORATE",10054)*7.5);
				A_DVDSLower(CallACS("MiscVarCheckDECORATE",10035)*2);
				A_DVDSLower(CallACS("MiscVarCheckDECORATE",10036)*5);
				A_DVDSLower(18);
			}
			Loop
		Select:
			DMAC A 1
			{
				A_DVDSRaise(CallACS("MiscVarCheckDECORATE",10053)*3);
				A_DVDSRaise(CallACS("MiscVarCheckDECORATE",10054)*7.5);
				A_DVDSRaise(CallACS("MiscVarCheckDECORATE",10035)*2);
				A_DVDSRaise(CallACS("MiscVarCheckDECORATE",10036)*5);
				A_DVDSRaise(18);
			}
			Loop
		Fire:
			DMAC B 4
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 2) { A_SetTics(3); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 4) { A_SetTics(2); }
			}
		Hold:
			DMAC CDEF 3
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 2) { A_SetTics(2); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 4) { A_SetTics(1); }

				CallACS("StartTensionCountDown");
				A_PlaySound("weapons/maceshoot",1);
				A_PlaySound("weapons/maceshoot",1);
				if (random(1,100) <= 89) 
				{
					A_SpreadAuraFireProjectile("MaceFX1New",frandom(-6.328125,2.109375),1,"MaceAmmo",frandom(-3,1),0,0,0);
					A_SpreadAuraFireProjectile("MaceFX1New",frandom(-2.109375,6.328125),1,"MaceAmmo",frandom(-1,3),0,0,0);
				}
				else 
				{
					A_SpreadAuraFireProjectile("MaceFX2New",frandom(2,0),1,"MaceAmmo", frandom(2,0),0,0,-2);
					A_SpreadAuraFireProjectile("MaceFX2New",frandom(0,-2),1,"MaceAmmo",frandom(0,-2),0,0,-2);
				}
			}
			DMAC C 4 
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 2) { A_SetTics(3); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 4) { A_SetTics(2); }
				A_ReFire;
			}
			DMAC DEFB 4
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 2) { A_SetTics(3); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 4) { A_SetTics(2); }
			}
			Goto Ready
		AltFire:
		AltHold:
			TNT1 A 0
			{
				if (A_UseManaAttack(CountInv("AltFireManaCost",AAPTR_PLAYER1),2,0,1) == 0) { return state("Ready"); }
				return state("");
			}
			DMAC B 4
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 2) { A_SetTics(3); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 4) { A_SetTics(2); }
			}
			DMAC D 4 // A_FireMacePL2
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 2) { A_SetTics(3); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 4) { A_SetTics(2); }

				CallACS("StartTensionCountDown");
				A_PlaySound("weapons/maceshoot",1);
				A_PlaySound("weapons/maceshoot",1);
				A_SpreadAuraFireProjectile("MaceFX4New", random(4,0),5,"MaceAmmo", random(4,0),0,1,0);
				A_SpreadAuraFireProjectile("MaceFX4New",random(0,-4),5,"MaceAmmo",random(0,-4),0,1,0);
			}
			DMAC B 4
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 2) { A_SetTics(3); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 4) { A_SetTics(2); }
			}
			DMAC A 8
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 2) { A_SetTics(6); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 4) { A_SetTics(4); }
				A_ReFire;
			}
			Goto Ready
	}
}

actor SuperCrossbowNew : HereticWeaponBase 25100
{
	spawnid 33
	obituary "%o was splattered by %k's super crossbow."
	radius 20
	height 16
	Inventory.PickupMessage "Super Ethereal Crossbow \cx[Slot 3]\c-"
	weapon.selectionorder 400
	Weapon.AmmoType1 "CrossbowAmmo"
	Weapon.AmmoType2 "CrossbowAmmo"
	Weapon.Kickback 75
	Weapon.AmmoUse1 2
	Weapon.AmmoUse2 2
	Weapon.AmmoGive 8
	Tag "Super Ethereal Crossbow"
	states
	{
		Spawn:
			WBOW B 0 NoDelay
			{
				if (CountInv("SuperCrossbowNew",AAPTR_PLAYER1) > 0)
				{
					A_SpawnItemEx("DualSuperCrossbowNew");
					A_FadeOut(1,1);
				}
			}
			WBOW B 1
			Loop
		Ready: 
			CRB2 AAAAAABBBBBBCCCCCC 1 A_WeaponReady
			loop
		Deselect:
			CRB2 AAAAAABBBBBBCCCCCC 1 
			{
				A_DVDSLower(CallACS("MiscVarCheckDECORATE",10031)*3);
				A_DVDSLower(CallACS("MiscVarCheckDECORATE",10032)*7.5);
				A_DVDSLower(CallACS("MiscVarCheckDECORATE",10035)*2);
				A_DVDSLower(CallACS("MiscVarCheckDECORATE",10036)*5);
				A_DVDSLower(18);
			}
			loop
		Select:
			CRB2 AAAAAABBBBBBCCCCCC 1 
			{
				A_DVDSRaise(CallACS("MiscVarCheckDECORATE",10031)*3);
				A_DVDSRaise(CallACS("MiscVarCheckDECORATE",10032)*7.5);
				A_DVDSRaise(CallACS("MiscVarCheckDECORATE",10035)*2);
				A_DVDSRaise(CallACS("MiscVarCheckDECORATE",10036)*5);
				A_DVDSRaise(18);
			}
			loop
		Fire:
			CRB2 A 3
			{
				if (CallACS("MiscVarCheckDECORATE",10031) >= 2) { A_SetTics(2); }
				if (CallACS("MiscVarCheckDECORATE",10031) >= 4) { A_SetTics(1); }
			}
			CRB2 D 4
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 3) { A_SetTics(3); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 5) { A_SetTics(2); }

				CallACS("StartTensionCountDown");
				A_PlaySound("weapons/bowshoot",1);
				A_PlaySound("weapons/bowshoot",1);
				A_SpreadAuraFireProjectile("CrossbowFX3New",  4.0, 0,             "", -14,   0, 0, 0);
				A_SpreadAuraFireProjectile("CrossbowFX3New",  2.0, 0,             "",   0,  10, 0, 0);
				A_SpreadAuraFireProjectile("CrossbowFX3New", -2.0, 0,             "",   0,  10, 0, 0);
				A_SpreadAuraFireProjectile("CrossbowFX1New",  0.0, 1, "CrossbowAmmo",  -7,   0, 0, 0);
				A_SpreadAuraFireProjectile("CrossbowFX1New",  0.0, 1, "CrossbowAmmo",   7,   0, 0, 0);
				A_SpreadAuraFireProjectile("CrossbowFX3New",  2.0, 0,             "",   0, -10, 0, 0);
				A_SpreadAuraFireProjectile("CrossbowFX3New", -2.0, 0,             "",   0, -10, 0, 0);
				A_SpreadAuraFireProjectile("CrossbowFX3New", -4.0, 0,             "",  14,   0, 0, 0);
			}
			CRB2 E 10
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 1) { A_SetTics(8); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 3) { A_SetTics(6); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 5) { A_SetTics(4); }
			}
			CRB2 F 12 
			{
				if (CallACS("MiscVarCheckDECORATE",10031) >= 1) { A_SetTics(10); }
				if (CallACS("MiscVarCheckDECORATE",10031) >= 3) { A_SetTics(8); }
				if (CallACS("MiscVarCheckDECORATE",10031) >= 5) { A_SetTics(6); }
			}
			CRB2 G 9 
			{
				if (CallACS("MiscVarCheckDECORATE",10031) >= 2) { A_SetTics(6); }
				if (CallACS("MiscVarCheckDECORATE",10031) >= 4) { A_SetTics(3); }
			}
			CRB2 H 1 
			{
				if (CallACS("MiscVarCheckDECORATE",10031) >= 3) { A_SetTics(0); }
			}
			CRB2 H 5
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 1) { A_SetTics(4); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 3) { A_SetTics(3); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 5) { A_SetTics(2); }
			}
			CRB2 H 0 A_ReFire
			goto Ready
		AltFire:
			TNT1 A 0
			{
				if (A_UseManaAttack(CountInv("AltFireManaCost",AAPTR_PLAYER1),2,0,1) == 0) { return state("Ready"); }
				return state("");
			}
			CRB2 A 3
			{
				if (CallACS("MiscVarCheckDECORATE",10031) >= 2) { A_SetTics(2); }
				if (CallACS("MiscVarCheckDECORATE",10031) >= 4) { A_SetTics(1); }
			}
			CRB2 D 5
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 1) { A_SetTics(4); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 3) { A_SetTics(3); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 5) { A_SetTics(2); }

				CallACS("StartTensionCountDown");
				A_PlaySound("weapons/bowshoot");
				A_PlaySound("weapons/bowshoot");
				A_PlaySound("weapons/bowshoot");
				A_PlaySound("weapons/bowshoot");
				A_SpreadAuraFireProjectile("CrossbowFX2New",  0.0, 0,             "",   7,   0, 0, 0);
				A_SpreadAuraFireProjectile("CrossbowFX2New",  1.0, 0,             "",   0,   5, 0, 0);
				A_SpreadAuraFireProjectile("CrossbowFX2New", -1.0, 0,             "",   0,   5, 0, 0);
				A_SpreadAuraFireProjectile("CrossbowFX2New",  1.0, 0,             "",   0,  -5, 0, 0);
				A_SpreadAuraFireProjectile("CrossbowFX2New", -1.0, 0,             "",   0,  -5, 0, 0);
				A_SpreadAuraFireProjectile("CrossbowFX2New",  2.0, 0,             "",   0,  10, 0, 0);
				A_SpreadAuraFireProjectile("CrossbowFX2New", -2.0, 0,             "",   0,  10, 0, 0);
				A_SpreadAuraFireProjectile("CrossbowFX2New",  2.0, 1, "CrossbowAmmo", -14,   0, 0, 0);
				A_SpreadAuraFireProjectile("CrossbowFX2New", -2.0, 1, "CrossbowAmmo",  14,   0, 0, 0);
				A_SpreadAuraFireProjectile("CrossbowFX2New",  2.0, 0,             "",   0, -10, 0, 0);
				A_SpreadAuraFireProjectile("CrossbowFX2New", -2.0, 0,             "",   0, -10, 0, 0);
				A_SpreadAuraFireProjectile("CrossbowFX2New",  1.0, 0,             "",   0,  -5, 0, 0);
				A_SpreadAuraFireProjectile("CrossbowFX2New", -1.0, 0,             "",   0,  -5, 0, 0);
				A_SpreadAuraFireProjectile("CrossbowFX2New",  1.0, 0,             "",   0,   5, 0, 0);
				A_SpreadAuraFireProjectile("CrossbowFX2New", -1.0, 0,             "",   0,   5, 0, 0);
				A_SpreadAuraFireProjectile("CrossbowFX2New",  0.0, 0,             "",  -7,   0, 0, 0);
			}
			CRB2 EF 6
			{
				if (CallACS("MiscVarCheckDECORATE",10031) >= 1) { A_SetTics(5); }
				if (CallACS("MiscVarCheckDECORATE",10031) >= 3) { A_SetTics(4); }
				if (CallACS("MiscVarCheckDECORATE",10031) >= 5) { A_SetTics(3); }
			}
			CRB2 G 5 
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 1) { A_SetTics(4); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 3) { A_SetTics(3); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 5) { A_SetTics(2); }
			}
			CRB2 H 3
			{
				if (CallACS("MiscVarCheckDECORATE",10031) >= 2) { A_SetTics(2); }
				if (CallACS("MiscVarCheckDECORATE",10031) >= 4) { A_SetTics(1); }
			}
			CRB2 H 0 A_ReFire
			goto Ready
	}
}

actor DualSuperCrossbowNew : HereticWeaponBase
{
	spawnid 33
	obituary "%o was splattered by %k's super crossbows."
	radius 20
	height 16
	Inventory.PickupMessage "Super Ethereal Crossbow \cx[Slot 3] (can now dual wield)\c-"
	weapon.selectionorder 400
	Weapon.AmmoType1 "CrossbowAmmo"
	Weapon.AmmoType2 "CrossbowAmmo"
	Weapon.Kickback 75
	weapon.AmmoUse1 2
	weapon.AmmoUse2 2
	weapon.AmmoGive 8
	Tag "Dual Super Ethereal Crossbows"
	states
	{
		Spawn:
			WBOW B -1
			stop
		Ready: 
			SCRD AAAAAABBBBBBCCCCCC 1 A_WeaponReady
			loop
		Deselect:
			SCRD AAAAAABBBBBBCCCCCC 1
			{
				A_DVDSLower(CallACS("MiscVarCheckDECORATE",10031)*3);
				A_DVDSLower(CallACS("MiscVarCheckDECORATE",10032)*7.5);
				A_DVDSLower(CallACS("MiscVarCheckDECORATE",10035)*2);
				A_DVDSLower(CallACS("MiscVarCheckDECORATE",10036)*5);
				A_DVDSLower(18);
			}
			loop
		Select:
			SCRD AAAAAABBBBBBCCCCCC 1 
			{
				A_DVDSRaise(CallACS("MiscVarCheckDECORATE",10031)*3);
				A_DVDSRaise(CallACS("MiscVarCheckDECORATE",10032)*7.5);
				A_DVDSRaise(CallACS("MiscVarCheckDECORATE",10035)*2);
				A_DVDSRaise(CallACS("MiscVarCheckDECORATE",10036)*5);
				A_DVDSRaise(18);
			}
			loop
		Fire:
			SCRD A 3
			{
				if (CallACS("MiscVarCheckDECORATE",10031) >= 2) { A_SetTics(2); }
				if (CallACS("MiscVarCheckDECORATE",10031) >= 4) { A_SetTics(1); }
			}
			SCRD D 4
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 3) { A_SetTics(3); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 5) { A_SetTics(2); }

				CallACS("StartTensionCountDown");
				A_PlaySound("weapons/bowshoot",1);
				A_PlaySound("weapons/bowshoot",1);
				A_SpreadAuraFireProjectile("CrossbowFX3New",  4.0-6.0, 0,             "", -14-3,   0, 0, 0);
				A_SpreadAuraFireProjectile("CrossbowFX3New",  2.0-6.0, 0,             "",   0-3,  10, 0, 0);
				A_SpreadAuraFireProjectile("CrossbowFX3New", -2.0-6.0, 0,             "",   0-3,  10, 0, 0);
				A_SpreadAuraFireProjectile("CrossbowFX1New",  0.0-6.0, 1, "CrossbowAmmo",  -7-3,   0, 0, 0);
				A_SpreadAuraFireProjectile("CrossbowFX1New",  0.0-6.0, 1, "CrossbowAmmo",   7-3,   0, 0, 0);
				A_SpreadAuraFireProjectile("CrossbowFX3New",  2.0-6.0, 0,             "",   0-3, -10, 0, 0);
				A_SpreadAuraFireProjectile("CrossbowFX3New", -2.0-6.0, 0,             "",   0-3, -10, 0, 0);
				A_SpreadAuraFireProjectile("CrossbowFX3New", -4.0-6.0, 0,             "",  14-3,   0, 0, 0);
			}
			SCRD E 4
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 3) { A_SetTics(3); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 5) { A_SetTics(2); }

				CallACS("StartTensionCountDown");
				A_PlaySound("weapons/bowshoot",1);
				A_PlaySound("weapons/bowshoot",1);
				A_SpreadAuraFireProjectile("CrossbowFX3New",  4.0+6.0, 0,             "", -14+3,   0, 0, 0);
				A_SpreadAuraFireProjectile("CrossbowFX3New",  2.0+6.0, 0,             "",   0+3,  10, 0, 0);
				A_SpreadAuraFireProjectile("CrossbowFX3New", -2.0+6.0, 0,             "",   0+3,  10, 0, 0);
				A_SpreadAuraFireProjectile("CrossbowFX1New",  0.0+6.0, 1, "CrossbowAmmo",  -7+3,   0, 0, 0);
				A_SpreadAuraFireProjectile("CrossbowFX1New",  0.0+6.0, 1, "CrossbowAmmo",   7+3,   0, 0, 0);
				A_SpreadAuraFireProjectile("CrossbowFX3New",  2.0+6.0, 0,             "",   0+3, -10, 0, 0);
				A_SpreadAuraFireProjectile("CrossbowFX3New", -2.0+6.0, 0,             "",   0+3, -10, 0, 0);
				A_SpreadAuraFireProjectile("CrossbowFX3New", -4.0+6.0, 0,             "",  14+3,   0, 0, 0);
			}
			SCRD F 10
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 1) { A_SetTics(8); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 3) { A_SetTics(6); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 5) { A_SetTics(4); }
			}
			SCRD G 12 
			{
				if (CallACS("MiscVarCheckDECORATE",10031) >= 2) { A_SetTics(8); }
				if (CallACS("MiscVarCheckDECORATE",10031) >= 4) { A_SetTics(4); }
			}
			SCRD H 6 
			{
				if (CallACS("MiscVarCheckDECORATE",10031) >= 2) { A_SetTics(4); }
				if (CallACS("MiscVarCheckDECORATE",10031) >= 4) { A_SetTics(2); }
			}
			SCRD H 3
			{
				if (CallACS("MiscVarCheckDECORATE",10031) >= 2) { A_SetTics(2); }
				if (CallACS("MiscVarCheckDECORATE",10031) >= 4) { A_SetTics(1); }
			}
			SCRD H 0 A_ReFire
			goto Ready
		AltFire:
			TNT1 A 0
			{
				if (A_UseManaAttack(CountInv("AltFireManaCost",AAPTR_PLAYER1),2,0,1) == 0) { return state("Ready"); }
				return state("");
			}
			SCRD A 3
			{
				if (CallACS("MiscVarCheckDECORATE",10031) >= 2) { A_SetTics(2); }
				if (CallACS("MiscVarCheckDECORATE",10031) >= 4) { A_SetTics(1); }
			}
			SCRD D 5
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 1) { A_SetTics(4); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 3) { A_SetTics(3); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 5) { A_SetTics(2); }

				A_PlaySound("weapons/bowshoot");
				A_PlaySound("weapons/bowshoot");
				A_PlaySound("weapons/bowshoot");
				A_PlaySound("weapons/bowshoot");
				CallACS("StartTensionCountDown");
				A_SpreadAuraFireProjectile("CrossbowFX2New",  0.0-6.0, 0,             "",   7-3,   0, 0, 0);
				A_SpreadAuraFireProjectile("CrossbowFX2New",  1.0-6.0, 0,             "",   0-3,   5, 0, 0);
				A_SpreadAuraFireProjectile("CrossbowFX2New", -1.0-6.0, 0,             "",   0-3,   5, 0, 0);
				A_SpreadAuraFireProjectile("CrossbowFX2New",  1.0-6.0, 0,             "",   0-3,  -5, 0, 0);
				A_SpreadAuraFireProjectile("CrossbowFX2New", -1.0-6.0, 0,             "",   0-3,  -5, 0, 0);
				A_SpreadAuraFireProjectile("CrossbowFX2New",  2.0-6.0, 0,             "",   0-3,  10, 0, 0);
				A_SpreadAuraFireProjectile("CrossbowFX2New", -2.0-6.0, 0,             "",   0-3,  10, 0, 0);
				A_SpreadAuraFireProjectile("CrossbowFX2New",  2.0-6.0, 1, "CrossbowAmmo", -14-3,   0, 0, 0);
				A_SpreadAuraFireProjectile("CrossbowFX2New", -2.0-6.0, 1, "CrossbowAmmo",  14-3,   0, 0, 0);
				A_SpreadAuraFireProjectile("CrossbowFX2New",  2.0-6.0, 0,             "",   0-3, -10, 0, 0);
				A_SpreadAuraFireProjectile("CrossbowFX2New", -2.0-6.0, 0,             "",   0-3, -10, 0, 0);
				A_SpreadAuraFireProjectile("CrossbowFX2New",  1.0-6.0, 0,             "",   0-3,  -5, 0, 0);
				A_SpreadAuraFireProjectile("CrossbowFX2New", -1.0-6.0, 0,             "",   0-3,  -5, 0, 0);
				A_SpreadAuraFireProjectile("CrossbowFX2New",  1.0-6.0, 0,             "",   0-3,   5, 0, 0);
				A_SpreadAuraFireProjectile("CrossbowFX2New", -1.0-6.0, 0,             "",   0-3,   5, 0, 0);
				A_SpreadAuraFireProjectile("CrossbowFX2New",  0.0-6.0, 0,             "",  -7-3,   0, 0, 0);
			}
			SCRD E 5
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 1) { A_SetTics(4); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 3) { A_SetTics(3); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 5) { A_SetTics(2); }

				CallACS("StartTensionCountDown");
				A_PlaySound("weapons/bowshoot");
				A_PlaySound("weapons/bowshoot");
				A_PlaySound("weapons/bowshoot");
				A_PlaySound("weapons/bowshoot");
				A_SpreadAuraFireProjectile("CrossbowFX2New",  0.0+6.0, 0,             "",   7+3,   0, 0, 0);
				A_SpreadAuraFireProjectile("CrossbowFX2New",  1.0+6.0, 0,             "",   0+3,   5, 0, 0);
				A_SpreadAuraFireProjectile("CrossbowFX2New", -1.0+6.0, 0,             "",   0+3,   5, 0, 0);
				A_SpreadAuraFireProjectile("CrossbowFX2New",  1.0+6.0, 0,             "",   0+3,  -5, 0, 0);
				A_SpreadAuraFireProjectile("CrossbowFX2New", -1.0+6.0, 0,             "",   0+3,  -5, 0, 0);
				A_SpreadAuraFireProjectile("CrossbowFX2New",  2.0+6.0, 0,             "",   0+3,  10, 0, 0);
				A_SpreadAuraFireProjectile("CrossbowFX2New", -2.0+6.0, 0,             "",   0+3,  10, 0, 0);
				A_SpreadAuraFireProjectile("CrossbowFX2New",  2.0+6.0, 1, "CrossbowAmmo", -14+3,   0, 0, 0);
				A_SpreadAuraFireProjectile("CrossbowFX2New", -2.0+6.0, 1, "CrossbowAmmo",  14+3,   0, 0, 0);
				A_SpreadAuraFireProjectile("CrossbowFX2New",  2.0+6.0, 0,             "",   0+3, -10, 0, 0);
				A_SpreadAuraFireProjectile("CrossbowFX2New", -2.0+6.0, 0,             "",   0+3, -10, 0, 0);
				A_SpreadAuraFireProjectile("CrossbowFX2New",  1.0+6.0, 0,             "",   0+3,  -5, 0, 0);
				A_SpreadAuraFireProjectile("CrossbowFX2New", -1.0+6.0, 0,             "",   0+3,  -5, 0, 0);
				A_SpreadAuraFireProjectile("CrossbowFX2New",  1.0+6.0, 0,             "",   0+3,   5, 0, 0);
				A_SpreadAuraFireProjectile("CrossbowFX2New", -1.0+6.0, 0,             "",   0+3,   5, 0, 0);
				A_SpreadAuraFireProjectile("CrossbowFX2New",  0.0+6.0, 0,             "",  -7+3,   0, 0, 0);
			}
			SCRD FG 6
			{
				if (CallACS("MiscVarCheckDECORATE",10031) >= 2) { A_SetTics(4); }
				if (CallACS("MiscVarCheckDECORATE",10031) >= 4) { A_SetTics(2); }
			}
			SCRD H 3 
			{
				if (CallACS("MiscVarCheckDECORATE",10031) >= 2) { A_SetTics(2); }
				if (CallACS("MiscVarCheckDECORATE",10031) >= 4) { A_SetTics(1); }
			}
			SCRD H 2
			{
				if (CallACS("MiscVarCheckDECORATE",10031) >= 3) { A_SetTics(1); }
			}
			SCRD H 0 A_ReFire
			goto Ready
	}
}


ACTOR Sorcerer2FX1Player : Sorcerer2FX1New
{
	Radius 10
	Height 6
	Speed 20
	FastSpeed 28
	Damage (finaldamagedealt) //20
	DamageType "Thunder"
	DamageType "Magic"
	Projectile
	-ACTIVATEIMPACT
	-ACTIVATEPCROSS
	+FORCERADIUSDMG
	RenderStyle Add

	States
	{
		Spawn:
			FX16 A 0 NoDelay 
			{ 
				A_GetPlayerAttackDamage(39,0); 
				A_ScaleVelocity(1.00+((CallACS("MiscVarCheckDECORATE",10053)*0.1)+(CallACS("MiscVarCheckDECORATE",10054)*0.25)));
			}
		Idle:
			FX16 ABC 3 Bright A_BlueSpark
			Loop
		Death:
			FX16 G 5 Bright 
			{
				A_GetPlayerAttackDamage(61,0);
				A_Explode((finaldamagedealt),128,0);
			}
			FX16 HIJKL 5 Bright
			Stop
	}
}

actor Sorcerer2FX3 : AetheriusProjectileZSC
{
	Radius 10
	Height 6
	Speed 6
	Damage (finaldamagedealt) //10
	DamageType "Magic"
	PROJECTILE
	Renderstyle Add

	States
	{
		Spawn:
			FX11 A 0 NoDelay 
			{ 
				A_GetPlayerAttackDamage(40,0); 
				A_ScaleVelocity(1.00+((CallACS("MiscVarCheckDECORATE",10053)*0.1)+(CallACS("MiscVarCheckDECORATE",10054)*0.25)));
			}
		Idle:
			FX11 ABABABAB 5 bright
			goto Summon
		Summon:
			FX11 A 0
			{
				A_SpawnItem("TeleportFog",0,0,0,0);
				A_SpawnItem("FWizardSpawner",0,0,0,0);
			}
			stop
		Death:
			FX11 CDEFG 5 BRIGHT
			Stop
	}
}

actor DSparilStaff : HereticWeaponBase 32123
{
	Weapon.Kickback 63
	Weapon.Ammouse1 5
	Weapon.Ammouse2 15
	Weapon.Ammogive 50
	Weapon.Ammotype1 "BlasterAmmo"
	Weapon.Ammotype2 "BlasterAmmo"
	Inventory.Pickupmessage "Staff of D'Sparil \cx[Slot 8]\c-"
	Obituary "%o was no match for %k's staff of D'Sparil"
	Tag "Staff of D'Sparil"
	States
	{
		Spawn:
			DSTA A 0 NoDelay
			{
				if (CountInv("DSparilStaff",AAPTR_PLAYER1) > 0)
				{
					A_SpawnItemEx("DualDSparilStaff");
					A_FadeOut(1,1);
				}
			}
			DSTA A 1
			Loop
		Ready:
			DSTF A 1 A_WeaponReady
			Loop
		Deselect:
			DSTF A 1
			{
				A_DVDSLower(CallACS("MiscVarCheckDECORATE",10053)*3);
				A_DVDSLower(CallACS("MiscVarCheckDECORATE",10054)*7.5);
				A_DVDSLower(CallACS("MiscVarCheckDECORATE",10035)*2);
				A_DVDSLower(CallACS("MiscVarCheckDECORATE",10036)*5);
				A_DVDSLower(18);
			}
			Loop
		Select:
			DSTF A 1 
			{
				A_DVDSRaise(CallACS("MiscVarCheckDECORATE",10053)*3);
				A_DVDSRaise(CallACS("MiscVarCheckDECORATE",10054)*7.5);
				A_DVDSRaise(CallACS("MiscVarCheckDECORATE",10035)*2);
				A_DVDSRaise(CallACS("MiscVarCheckDECORATE",10036)*5);
				A_DVDSRaise(18);
			}
			Loop
		Fire:
			DSTF B 4 bright 
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 3) { A_SetTics(3); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 5) { A_SetTics(2); }
				A_PlayWeaponSound("dsparil/attack");
			}
			DSTF CD 4 bright
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 3) { A_SetTics(3); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 5) { A_SetTics(2); }
			}
			DSTF E 4 bright
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 3) { A_SetTics(3); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 5) { A_SetTics(2); }

				CallACS("StartTensionCountDown");
				A_SpreadAuraFireProjectile("Sorcerer2FX1Player",0,5,"BlasterAmmo",0,0,0,0);
			}
			DSTF F 4 bright
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 3) { A_SetTics(3); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 5) { A_SetTics(2); }
			}
			DSTF A 4 
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 3) { A_SetTics(3); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 5) { A_SetTics(2); }
				A_ReFire;
			}
			goto ready
		AltFire:
			TNT1 A 0
			{
				if (A_UseManaAttack(CountInv("AltFireManaCost",AAPTR_PLAYER1),2,0,1) == 0) { return state("Ready"); }
				return state("");
			}
			DSTF B 4 bright 
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 3) { A_SetTics(3); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 5) { A_SetTics(2); }
				A_PlayWeaponSound("dsparil/attack");
			}
			DSTF CD 4 bright
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 3) { A_SetTics(3); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 5) { A_SetTics(2); }
			}
			DSTF E 4 bright
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 3) { A_SetTics(3); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 5) { A_SetTics(2); }

				CallACS("StartTensionCountDown");
				A_SpreadAuraFireProjectile("Sorcerer2FX3", 25,15,"BlasterAmmo", 5,0,0,0);
				A_SpreadAuraFireProjectile("Sorcerer2FX3",-25, 0,           "",-5,0,0,0);
			}
			DSTF F 4 bright
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 3) { A_SetTics(3); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 5) { A_SetTics(2); }
			}
			DSTF A 4 
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 3) { A_SetTics(3); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 5) { A_SetTics(2); }
				A_ReFire;
			}
			goto Ready
	}
}

actor DualDSparilStaff : HereticWeaponBase
{
	Weapon.Kickback 63
	Weapon.Ammouse1 5
	Weapon.Ammouse2 15
	Weapon.Ammogive 50
	Weapon.Ammotype1 "BlasterAmmo"
	Weapon.Ammotype2 "BlasterAmmo"
	Inventory.Pickupmessage "Staff of D'Sparil \cx[Slot 8] (can now dual wield)\c-"
	Obituary "%o was no match for %k's staves of D'Sparil"
	Tag "Dual Staves of D'Sparil"
	States
	{
		Spawn:
			DSTA A 0 NoDelay
			DSTA A -1
			Stop
		Ready:
			DSTD A 1 A_WeaponReady
			Loop
		Deselect:
			DSTD A 1
			{
				A_DVDSLower(CallACS("MiscVarCheckDECORATE",10053)*3);
				A_DVDSLower(CallACS("MiscVarCheckDECORATE",10054)*7.5);
				A_DVDSLower(CallACS("MiscVarCheckDECORATE",10035)*2);
				A_DVDSLower(CallACS("MiscVarCheckDECORATE",10036)*5);
				A_DVDSLower(18);
			}
			Loop
		Select:
			DSTD A 1
			{
				A_DVDSRaise(CallACS("MiscVarCheckDECORATE",10053)*3);
				A_DVDSRaise(CallACS("MiscVarCheckDECORATE",10054)*7.5);
				A_DVDSRaise(CallACS("MiscVarCheckDECORATE",10035)*2);
				A_DVDSRaise(CallACS("MiscVarCheckDECORATE",10036)*5);
				A_DVDSRaise(18);
			}
			Loop
		Fire:
			DSTD B 4 bright
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 3) { A_SetTics(3); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 5) { A_SetTics(2); }
				A_PlayWeaponSound("dsparil/attack");
			}
			DSTD C 4 bright 
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 3) { A_SetTics(3); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 5) { A_SetTics(2); }
			}
			DSTD D 4 bright
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 3) { A_SetTics(3); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 5) { A_SetTics(2); }
				A_PlayWeaponSound("dsparil/attack");
			}
			DSTD E 4 bright
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 3) { A_SetTics(3); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 5) { A_SetTics(2); }

				CallACS("StartTensionCountDown");
				A_SpreadAuraFireProjectile("Sorcerer2FX1Player",-3,5,"BlasterAmmo",-3,0,0,0);
			}
			DSTD F 4 bright 
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 3) { A_SetTics(3); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 5) { A_SetTics(2); }
			}
			DSTD G 4 bright
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 3) { A_SetTics(3); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 5) { A_SetTics(2); }

				CallACS("StartTensionCountDown");
				A_SpreadAuraFireProjectile("Sorcerer2FX1Player", 3,5,"BlasterAmmo", 3,0,0,0);
			}
			DSTD H 4 bright
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 3) { A_SetTics(3); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 5) { A_SetTics(2); }
			}
			DSTD A 4
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 3) { A_SetTics(3); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 5) { A_SetTics(2); }
				A_ReFire;
			}
			goto ready
		AltFire:
			TNT1 A 0
			{
				if (A_UseManaAttack(CountInv("AltFireManaCost",AAPTR_PLAYER1),2,0,1) == 0) { return state("Ready"); }
				return state("");
			}
			DSTD B 4 bright
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 3) { A_SetTics(3); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 5) { A_SetTics(2); }
				A_PlayWeaponSound("dsparil/attack");
			}
			DSTD C 4 bright
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 3) { A_SetTics(3); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 5) { A_SetTics(2); }
			}
			DSTD D 4 bright
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 3) { A_SetTics(3); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 5) { A_SetTics(2); }
				A_PlayWeaponSound("dsparil/attack");
			}
			DSTD E 4 bright
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 3) { A_SetTics(3); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 5) { A_SetTics(2); }

				CallACS("StartTensionCountDown");
				A_SpreadAuraFireProjectile("Sorcerer2FX3", 25+3,15,"BlasterAmmo", 5+3,0,0,0);
				A_SpreadAuraFireProjectile("Sorcerer2FX3",-25+3, 0,           "",-5+3,0,0,0);
			}
			DSTD F 4 bright
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 3) { A_SetTics(3); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 5) { A_SetTics(2); }
			}
			DSTD G 4 bright
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 3) { A_SetTics(3); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 5) { A_SetTics(2); }

				CallACS("StartTensionCountDown");
				A_SpreadAuraFireProjectile("Sorcerer2FX3", 25-3,15,"BlasterAmmo", 5-3,0,0,0);
				A_SpreadAuraFireProjectile("Sorcerer2FX3",-25-3, 0,           "",-5-3,0,0,0);
			}
			DSTD H 4 bright
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 3) { A_SetTics(3); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 5) { A_SetTics(2); }
			}
			DSTD A 4 bright
			{
				if (CallACS("MiscVarCheckDECORATE",10053) >= 3) { A_SetTics(3); }
				if (CallACS("MiscVarCheckDECORATE",10053) >= 5) { A_SetTics(2); }
				A_ReFire;
			}
			goto Ready
	}
}